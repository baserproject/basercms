{"version":3,"file":"bc_widget_area/js/admin/widget_areas/form.bundle.js","mappings":"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","sources":["webpack://bc-admin-third/./src/bc_widget_area/js/admin/widget_areas/form.js"],"sourcesContent":["/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) NPO baser foundation <https://baserfoundation.org/>\n *\n * @copyright     Copyright (c) NPO baser foundation\n * @link          https://basercms.net baserCMS Project\n * @since         5.0.0\n * @license       https://basercms.net/license/index.html MIT License\n */\n\n\n$(function () {\n\n    $('#WidgetsType').accordion({\n        collapsible: true,\n        heightStyle: \"content\"\n    });\n    $('#Target').css('min-height', $('#Source').css('height'));\n\n    var sortableOptions = {\n        scroll: true,\n        items: 'div.sortable',\n        opacity: 0.80,\n        zIndex: 55,\n        containment: 'body',\n        tolerance: 'intersect',\n        distance: 5,\n        cursor: 'move',\n        placeholder: 'ui-widget-content placeholder',\n        deactivate: function (event, ui) {\n            // 新しいウィジェットを追加しようとしてやめた場合\n            // 再度追加する際に原因不明のエラーが連続で出現してしまうので、\n            // 一旦リセットするようにした。\n            $(\"#Target\").sortable(\"destroy\");\n            $(\"#Target\").sortable(sortableOptions\n            ).droppable({\n                hoverClass: 'topDrop',\n                accept: 'div.sortable',\n                tolderance: 'intersect'\n            });\n        },\n        update: function (event, ui) {\n            if ($(ui.item).attr(\"id\") !== undefined && $(ui.item).attr(\"id\").match(/^Setting/i)) {\n                widgetAreaUpdateSortedIds();\n                return;\n            }\n\n            // ベースIDの更新\n            var baseId = 0;\n            $(\"#Target .setting\").each(function () {\n                var _baseId = parseInt($(this).attr('id').replace('Setting', ''));\n                if (_baseId > baseId) {\n                    baseId = _baseId;\n                }\n            });\n            baseId++;\n\n            // ターゲットにテンプレートを追加\n            var id = $(ui.item.prevObject.prevObject).attr(\"id\").replace('Widget', '');\n            var sourceId = id.replace('Widget', '');\n            var settingId = 'Setting' + (baseId);\n            var tmpId = 'Tmp' + (baseId);\n            ui.item.attr('id', tmpId);\n            $(\"#\" + tmpId).after($(\"#\" + sourceId).clone().attr('id', settingId)).remove();\n            $(\"#\" + settingId).addClass('setting').removeClass('template');\n\n            // フィールドIDのリネーム\n            renameWidget(baseId);\n\n            // 値の設定\n            const widgetName = $(\"#\" + settingId + ' .widget-name').html();\n            let $head = $(\"#\" + settingId + ' .head');\n            $head.html($head.html() + $(\"#Target .\" + widgetName).length);\n            $(\"#widget-id\" + baseId).val(baseId);\n            $(\"#widget-name\" + baseId).val($head.html());\n\n            // イベント登録\n            registWidgetEvent(baseId);\n\n            /* sortable をリフレッシュ */\n            $(\"#Target\").sortable(\"refresh\");\n\n            $(\"#\" + settingId + \" .content\").slideDown('fast');\n\n            /* ウィジェットを保存 */\n            updateWidget(baseId);\n        },\n        activate: function (event, ui) {\n            // ドラッグ時の幅を元の幅に合わせる\n            $(\"#Source div:last\").width(ui.item.width() - 20);\n        }\n    };\n\n    $(\"#Target\").sortable(sortableOptions).droppable({\n        hoverClass: 'topDrop',\n        accept: '.draggable',\n        tolderance: 'intersect'\n    });\n\n    $(\".draggable\").draggable({\n        scroll: true,\n        helper: 'clone',\n        opacity: 0.80,\n        revert: 'invalid',\n        cursor: 'move',\n        connectToSortable: '#Target',\n        containment: 'body',\n        start: function (event, ui) {\n            jQuery(ui.helper).css({\n                'width': jQuery(this).width()\n            });\n        },\n    });\n\n    $(\"#Target .sortable\").each(function (k, v) {\n        registWidgetEvent($(this).attr('id').replace('Setting', ''));\n    });\n\n    $(\"#WidgetAreaUpdateTitleSubmit\").click(function () {\n        widgetAreaUpdateTitle();\n        return false;\n    });\n\n    /**\n     * ウィジェットごとにid/nameをリネームする\n     */\n    function renameWidget(baseId) {\n        let settingId = 'Setting' + baseId;\n        let newFormId = 'WidgetUpdateWidgetForm' + baseId;\n        $(\"#\" + settingId + ' .form').attr('id', newFormId);\n        let $newForm = $(\"#\" + newFormId);\n        $newForm.find('input, select, textarea').each(function () {\n            if ($(this).attr('id')) $(this).attr('id', $(this).attr('id') + baseId);\n            if ($(this).attr('name') !== undefined && $(this).attr('name').match(/^Widget\\[/i)) {\n                $(this).attr('name', $(this).attr('name').replace('Widget', 'Widget' + baseId + ''));\n            }\n        });\n        $newForm.find('label').each(function () {\n            if ($(this).attr('for')) $(this).attr('for', $(this).attr('for') + baseId);\n        });\n    }\n\n    /**\n     * ウィジェットイベントを登録\n     */\n    function registWidgetEvent(baseId) {\n        const settingId = 'Setting' + baseId;\n        $(\"#WidgetUpdateWidgetSubmit\" + baseId).click(function () {\n            updateWidget(baseId);\n            return false;\n        });\n        $(\"#\" + settingId + \" .action\").click(function () {\n            let $content = $(\"#\" + settingId + \" .content\");\n            if ($content.is(\":hidden\")) {\n                $content.slideDown('fast');\n            } else {\n                $content.slideUp('fast');\n            }\n        });\n        $(\"#\" + settingId + \" .status\").click(function () {\n            if ($(\"#\" + settingId + \" .status\").prop('checked')) {\n                $(\"#\" + settingId).addClass('enabled');\n            } else {\n                $(\"#\" + settingId).removeClass('enabled');\n            }\n        });\n        $(\"#\" + settingId + \" .del\").click(function () {\n            if (!confirm(bcI18n.confirmMessage1)) {\n                return;\n            }\n            deleteWidget(baseId);\n        });\n    }\n\n    /**\n     * ウィジェットを削除\n     */\n    function deleteWidget(id) {\n        $.bcToken.check(function () {\n            const widgetAreaId = $(\"#AdminWidgetAreasScript\").attr('data-widgetAreaId');\n            return $.ajax({\n                headers: {\n                    \"Authorization\": $.bcJwt.accessToken,\n                },\n                url: `${$.bcUtil.apiBaseUrl}bc-widget-area/widget_areas/delete_widget/${widgetAreaId}/${id}.json`,\n                type: 'POST',\n                data: {\n                    _csrfToken: $.bcToken.key\n                },\n                dataType: 'json',\n                beforeSend: function () {\n                    $(\"#WidgetAreaUpdateSortLoader\").show();\n                    $.bcUtil.hideMessage();\n                },\n                success: function (result) {\n                    if (!result.widgetArea) {\n                        $.bcUtil.showAlertMessage(bcI18n.alertMessage1);\n                    } else {\n                        $(\"#Setting\" + id + \"\").slideUp(200, function () {\n                            $(\"#Setting\" + id).remove();\n                            widgetAreaUpdateSortedIds();\n                        });\n                        $.bcUtil.showNoticeMessage(bcI18n.infoMessage1);\n                    }\n                },\n                error: function () {\n                    $.bcUtil.showAlertMessage(bcI18n.alertMessage1);\n                },\n                complete: function (xhr, textStatus) {\n                    $(\"#WidgetAreaUpdateSortLoader\").hide();\n                }\n            });\n        }, {loaderType: \"target\", loaderSelector: \"#WidgetAreaUpdateSortLoader\", hideLoader: false});\n    }\n\n    /**\n     * 並び順を更新する\n     */\n    function widgetAreaUpdateSortedIds() {\n        var ids = [];\n        const widgetAreaId = $(\"#AdminWidgetAreasScript\").attr('data-widgetAreaId');\n        $(\"#Target .sortable\").each(function (k, v) {\n            ids.push($(this).attr('id').replace('Setting', ''));\n        });\n        $.bcToken.check(function () {\n            return $.ajax({\n                headers: {\n                    \"Authorization\": $.bcJwt.accessToken,\n                },\n                url: `${$.bcUtil.apiBaseUrl}bc-widget-area/widget_areas/update_sort/${widgetAreaId}.json`,\n                type: 'POST',\n                data: {\n                    _csrfToken: $.bcToken.key,\n                    sorted_ids: ids.join(',')\n                },\n                dataType: 'json',\n                beforeSend: function () {\n                    $(\"#WidgetAreaUpdateSortLoader\").show();\n                },\n                success: function (result) {\n                    if (!result.widgetArea) {\n                        $(\"#BcMessageBox\").slideUp();\n                        $.bcUtil.showAlertMessage(bcI18n.alertMessage2);\n                    }\n                },\n                error: function () {\n                    $(\"#BcMessageBox\").slideUp();\n                    $.bcUtil.showAlertMessage(bcI18n.alertMessage2);\n                },\n                complete: function (xhr, textStatus) {\n                    $(\"#WidgetAreaUpdateSortLoader\").hide();\n                }\n            });\n        }, {loaderType: \"target\", loaderSelector: \"#WidgetAreaUpdateSortLoader\", hideLoader: false});\n    }\n\n    /**\n     * タイトルを更新する\n     */\n    function widgetAreaUpdateTitle() {\n        const widgetAreaId = $(\"#AdminWidgetAreasScript\").attr('data-widgetAreaId');\n        $.bcToken.check(function () {\n            $('#WidgetAreaUpdateTitleForm input[name=\"_csrfToken\"]').val($.bcToken.key);\n            return $.ajax({\n                headers: {\n                    \"Authorization\": $.bcJwt.accessToken,\n                },\n                url: `${$.bcUtil.apiBaseUrl}bc-widget-area/widget_areas/update_title/${widgetAreaId}.json`,\n                type: 'POST',\n                data: $(\"#WidgetAreaUpdateTitleForm\").serialize(),\n                dataType: 'json',\n                beforeSend: function () {\n                    $(\"#WidgetAreaUpdateTitleSubmit\").prop('disabled', true);\n                    $.bcUtil.hideMessage();\n                    $(\"#WidgetAreaUpdateTitleLoader\").show();\n                },\n                success: function (result) {\n                    if (result.widgetArea) {\n                        $.bcUtil.showNoticeMessage(bcI18n.infoMessage2);\n                    } else {\n                        $.bcUtil.showAlertMessage(bcI18n.alertMessage3);\n                    }\n                },\n                error: function () {\n                    $.bcUtil.showAlertMessage(bcI18n.alertMessage3);\n                },\n                complete: function (xhr, textStatus) {\n                    $(\"#WidgetAreaUpdateTitleSubmit\").removeAttr('disabled');\n                    $(\"#WidgetAreaUpdateTitleLoader\").hide();\n                }\n            });\n        }, {loaderType: \"target\", loaderSelector: \"#WidgetAreaUpdateTitleLoader\", hideLoader: false});\n    }\n\n    /**\n     * ウィジェットを更新する\n     */\n    function updateWidget(id) {\n        const formId = \"WidgetUpdateWidgetForm\" + id;\n        const widgetAreaId = $(\"#AdminWidgetAreasScript\").attr('data-widgetAreaId');\n        let $form = $(\"#\" + formId);\n        $.bcToken.check(function () {\n            $(\"#\" + formId + ' input[name=\"_csrfToken\"]').val($.bcToken.key);\n            return $.ajax({\n                headers: {\n                    \"Authorization\": $.bcJwt.accessToken,\n                },\n                url: $.bcUtil.apiBaseUrl + 'bc-widget-area/widget_areas/update_widget/' + widgetAreaId + '.json',\n                type: 'POST',\n                data: $form.serialize(),\n                dataType: 'json',\n                beforeSend: function () {\n                    $(\"#WidgetUpdateWidgetSubmit\" + id).prop('disabled', true);\n                    $(\"#WidgetUpdateWidgetLoader\" + id).show();\n                    $(\"#BcMessageBox\").slideUp();\n                    $.bcUtil.hideMessage();\n                },\n                success: function (result) {\n                    if (!result.widgetArea) {\n                        $.bcUtil.showAlertMessage(bcI18n.alertMessage4);\n                    } else {\n                        $(\"#Setting\" + id + ' .head').html($(\"#Setting\" + id + ' .name').val());\n                        $.bcUtil.showNoticeMessage(bcI18n.infoMessage3);\n                    }\n                },\n                error: function () {\n                    $.bcUtil.showAlertMessage(bcI18n.alertMessage4);\n                },\n                complete: function (xhr, textStatus) {\n                    $(\"#WidgetUpdateWidgetSubmit\" + id).removeAttr('disabled');\n                    $(\"#WidgetUpdateWidgetLoader\" + id).hide();\n                    widgetAreaUpdateSortedIds();\n                }\n\n            });\n        }, {loaderType: \"target\", loaderSelector: \"#WidgetUpdateWidgetLoader\" + id, hideLoader: false});\n    }\n});\n"],"names":["$","accordion","collapsible","heightStyle","css","sortableOptions","scroll","items","opacity","zIndex","containment","tolerance","distance","cursor","placeholder","deactivate","event","ui","sortable","droppable","hoverClass","accept","tolderance","update","undefined","item","attr","match","widgetAreaUpdateSortedIds","baseId","each","_baseId","parseInt","this","replace","sourceId","prevObject","settingId","tmpId","after","clone","remove","addClass","removeClass","newFormId","$newForm","find","renameWidget","widgetName","html","$head","length","val","registWidgetEvent","slideDown","updateWidget","activate","width","click","$content","is","slideUp","prop","id","confirm","bcI18n","confirmMessage1","bcToken","check","widgetAreaId","ajax","headers","bcJwt","accessToken","url","bcUtil","apiBaseUrl","type","data","_csrfToken","key","dataType","beforeSend","show","hideMessage","success","result","widgetArea","showNoticeMessage","infoMessage1","showAlertMessage","alertMessage1","error","complete","xhr","textStatus","hide","loaderType","loaderSelector","hideLoader","ids","k","v","push","sorted_ids","join","alertMessage2","formId","$form","serialize","infoMessage3","alertMessage4","removeAttr","draggable","helper","revert","connectToSortable","start","jQuery","infoMessage2","alertMessage3"],"sourceRoot":""}