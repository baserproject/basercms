{"version":3,"file":"js/admin/plugins/update.bundle.js","mappings":";;;;;;;;;;AAUA,IAAMA,EAAa,CAKfC,OAAQ,KAKRC,mBAAmB,EAKnBC,QAAO,WACH,IAAMC,EAASC,EAAE,6BACjBC,KAAKL,OAASG,EAAOG,KAAK,eAC1BD,KAAKJ,kBAAoBE,EAAOG,KAAK,0BACrCD,KAAKE,iBACLF,KAAKG,cACT,EAKAD,eAAc,WACVH,EAAE,cAAcK,GAAG,QAASJ,KAAKK,QACjCN,EAAE,QAAQK,GAAG,SAAUJ,KAAKG,aAChC,EAMAE,OAAM,WACF,QAAIC,QAAQC,OAAOC,mBACfT,EAAEU,OAAOC,cACF,EAGf,EAKAP,aAAY,WACR,IAAMQ,EAAaZ,EAAE,cACfa,EAAab,EAAE,eACI,cAAtBL,EAAWC,SACXI,EAAE,QAAQc,OACTF,EAAWG,WAAW,YACtBF,EAAWG,SAEXJ,EAAWV,KAAK,WAAY,YAC5BW,EAAWI,QAEXtB,EAAWE,mBACXe,EAAWV,KAAK,WAAY,YAEpC,GAIJP,EAAWG,S","sources":["webpack://bc-admin-third/./src/js/admin/plugins/update.js"],"sourcesContent":["/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) NPO baser foundation <https://baserfoundation.org/>\n *\n * @copyright     Copyright (c) NPO baser foundation\n * @link          https://basercms.net baserCMS Project\n * @since         5.0.0\n * @license       https://basercms.net/license/index.html MIT License\n */\n\nconst updateForm = {\n\n    /**\n     * プラグイン名\n     */\n    plugin: null,\n\n    /**\n     * vendor / composer に書き込み権限があるか\n     */\n    isWritablePackage: false,\n\n    /**\n     * 起動処理\n     */\n    mounted() {\n        const script = $(\"#AdminPluginsUpdateScript\");\n        this.plugin = script.attr('data-plugin');\n        this.isWritablePackage = script.attr('data-isWritablePackage');\n        this.registerEvents();\n        this.toggleUpdate();\n    },\n\n    /**\n     * イベント登録\n     */\n    registerEvents() {\n        $(\"#BtnUpdate\").on('click', this.update);\n        $(\"#php\").on('change', this.toggleUpdate);\n    },\n\n    /**\n     * アップデート実行\n     * @returns {boolean}\n     */\n    update() {\n        if (confirm(bcI18n.confirmMessage1)) {\n            $.bcUtil.showLoader();\n            return true;\n        }\n        return false;\n    },\n\n    /**\n     * アップデートボタン切り替え\n     */\n    toggleUpdate() {\n        const $btnUpdate = $(\"#BtnUpdate\");\n        const $phpNotice = $(\".php-notice\");\n        if(updateForm.plugin !== 'BaserCore') return;\n        if($(\"#php\").val()) {\n            $btnUpdate.removeAttr('disabled');\n            $phpNotice.hide();\n        } else {\n            $btnUpdate.attr('disabled', 'disabled');\n            $phpNotice.show();\n        }\n        if(!updateForm.isWritablePackage) {\n            $btnUpdate.attr('disabled', 'disabled');\n        }\n    }\n\n};\n\nupdateForm.mounted();\n\n"],"names":["updateForm","plugin","isWritablePackage","mounted","script","$","this","attr","registerEvents","toggleUpdate","on","update","confirm","bcI18n","confirmMessage1","bcUtil","showLoader","$btnUpdate","$phpNotice","val","removeAttr","hide","show"],"sourceRoot":""}