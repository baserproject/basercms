{"version":3,"file":"js/admin/permissions/index.bundle.js","mappings":";;;;;;;;;;AAWA,IAAMA,EAAwB,CAK1BC,iBAAkB,GAKlBC,YAAa,KAKbC,kBAAmB,KAKnBC,QAAO,WACH,IAAMC,EAAUC,EAAE,gCAClBC,KAAKL,YAAcG,EAAQG,KAAK,oBAChCD,KAAKJ,kBAAoBE,EAAQG,KAAK,0BACtCD,KAAKN,iBAAoBQ,KAAKC,MAAML,EAAQG,KAAK,0BACjDD,KAAKI,UACT,EAKAA,SAAQ,WAEJL,EAAEM,WAAWC,KAAK,CACdC,cAAeR,EAAES,OAAOC,gBAATV,sCAAwEC,KAAKL,YAAc,6BAA+BK,KAAKJ,oBAGlJG,EAAEW,QAAQJ,KAAK,CACXK,SAAUZ,EAAES,OAAOC,gBAATV,sCAEdC,KAAKY,uBACLZ,KAAKa,gBACT,EAKAA,eAAc,WACVd,EAAE,uCAAuCe,MAAMd,KAAKY,qBACxD,EAKAA,qBAAoB,WAChB,IAAMG,EAAqBhB,EAAE,wBACvBiB,EAAkBD,EAAmBE,MAC3CF,EAAmBG,QACnB,IAAMC,EAAOpB,EAAE,+CAA+CkB,MAE9DF,EAAmBK,OACfrB,EAAE,aACGkB,IAAI,IACJI,KAAK,KAEd5B,EAAsBC,iBAAiB4B,SAAQ,SAASC,EAAOC,GACxDL,IAASI,EAAMJ,MAClBJ,EAAmBK,OACfrB,EAAE,aACGkB,IAAIM,EAAME,IACVJ,KAAKE,EAAMG,MAExB,IACAX,EAAmBE,IAAID,EAC3B,GAIJvB,EAAsBI,S","sources":["webpack://bc-admin-third/./src/js/admin/permissions/index.js"],"sourcesContent":["/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Permission Community <https://basercms.net/community/>\n *\n * @copyright     Copyright (c) baserCMS Permission Community\n * @link          https://basercms.net baserCMS Project\n * @since         5.0.0\n * @license       https://basercms.net/license/index.html MIT License\n */\n\n\nconst permissionGroupsIndex = {\n\n    /**\n     * アクセスルールグループ\n     */\n    permissionGroups: [],\n\n    /**\n     * ユーザーグループID\n     */\n    userGroupId: null,\n\n    /**\n     * アクセスルールグループ\n     */\n    permissionGroupId: null,\n\n    /**\n     * mounted\n     */\n    mounted() {\n        const $script = $(\"#AdminPermissionsIndexScript\");\n        this.userGroupId = $script.attr('data-userGroupId');\n        this.permissionGroupId = $script.attr('data-permissionGroupId');\n        this.permissionGroups =  JSON.parse($script.attr('data-permissionGroups'));\n        this.initView();\n    },\n\n    /**\n     * 表示初期化\n     */\n    initView() {\n        // 並び替え機能実装\n        $.bcSortable.init({\n            updateSortUrl: $.bcUtil.apiAdminBaseUrl + 'baser-core' + '/permissions/update_sort/' + this.userGroupId + '.json?permission_group_id=' + this.permissionGroupId\n        });\n        // 一括処理実装\n        $.bcBatch.init({\n            batchUrl: $.bcUtil.apiAdminBaseUrl + 'baser-core' + '/permissions/batch.json'\n        });\n        this.initPermissionGroups();\n        this.registerEvents();\n    },\n\n    /**\n     * イベント登録\n     */\n    registerEvents() {\n        $(\"input[name='permission_group_type']\").click(this.initPermissionGroups);\n    },\n\n    /**\n     * パーミッショングループ初期化\n     */\n    initPermissionGroups() {\n        const $permissionGroupId = $(\"#permission-group-id\");\n        const selectedGroupId = $permissionGroupId.val();\n        $permissionGroupId.empty();\n        const type = $(\"input[name='permission_group_type']:checked\").val();\n\n        $permissionGroupId.append(\n            $('<option/>')\n                .val('')\n                .text('')\n        );\n        permissionGroupsIndex.permissionGroups.forEach(function(value, key){\n            if(type !== value.type) return;\n            $permissionGroupId.append(\n                $('<option/>')\n                    .val(value.id)\n                    .text(value.name)\n            );\n        });\n        $permissionGroupId.val(selectedGroupId);\n    }\n\n}\n\npermissionGroupsIndex.mounted();\n"],"names":["permissionGroupsIndex","permissionGroups","userGroupId","permissionGroupId","mounted","$script","$","this","attr","JSON","parse","initView","bcSortable","init","updateSortUrl","bcUtil","apiAdminBaseUrl","bcBatch","batchUrl","initPermissionGroups","registerEvents","click","$permissionGroupId","selectedGroupId","val","empty","type","append","text","forEach","value","key","id","name"],"sourceRoot":""}