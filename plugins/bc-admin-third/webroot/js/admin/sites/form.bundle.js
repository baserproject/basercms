(()=>{
/**
 * baserCMS :  Based Website Development Project <https://basercms.net>
 * Copyright (c) NPO baser foundation <https://baserfoundation.org/>
 *
 * @copyright     Copyright (c) NPO baser foundation
 * @link          https://basercms.net baserCMS Project
 * @since         5.0.0
 * @license       https://basercms.net/license/index.html MIT License
 */
var e={currentAlias:"",mounted:function(){this.initView(),this.alias=$("#alias").val()},initView:function(){this.registerEvents(),this.loadDeviceAndLang(),this.changeUseDomain()},registerEvents:function(){$("#BtnSave").click(this.save),$("#main-site-id").change(this.loadDeviceAndLang),$("#device, #lang").change(this.loadOptions),$('input[name="same_main_url"]').click(this.loadOptions),$("input[name='use_subdomain']").click(this.changeUseDomain)},save:function(){if(e.alias&&e.alias!==$("#alias").val())return $.bcConfirm.show({title:bcI18n.confirmTitle1,message:bcI18n.confirmMessage2,ok:function(){$.bcUtil.showLoader(),$("#BtnSave").parents("form").submit()}}),!1;$.bcUtil.showLoader()},loadDeviceAndLang:function(){var i=$("#id").val(),a=$("#main-site-id").val();void 0===a&&(a=1);var n=$.bcUtil.apiAdminBaseUrl+"baser-core/sites/get_selectable_devices_and_lang/"+a;void 0!==i&&(n+="/"+i),n+=".json",$.bcUtil.ajax(n,function(i){var a=$("#device"),n=$("#lang"),o=a.val(),t=n.val();a.find("option").remove(),n.find("option").remove(),i=$.parseJSON(i),$.each(i.devices,function(e,i){a.append($("<option>").val(e).text(i).prop("selected",e===o))}),$.each(i.langs,function(e,i){n.append($("<option>").val(e).text(i).prop("selected",e===t))}),e.loadOptions()},{type:"GET",loaderType:"after",loaderSelector:"#main-site-id"})},loadOptions:function(){var e=$("#auto-redirect"),i=$("#same-main-url"),a=$("#auto-link"),n=$("#SpanSiteAutoRedirect"),o=$("#SpanSiteAutoLink"),t=$("#device");t.val()||$("#lang").val()?$("#SectionAccessType").show():($("#SectionAccessType").hide(),e.prop("checked",!1),i.prop("checked",!1),a.prop("checked",!1)),i.prop("checked")?(e.prop("checked",!1),n.hide(),a.prop("checked",!1),o.hide()):(n.show(),"mobile"===t.val()||"smartphone"===t.val()?o.show():o.hide())},changeUseDomain:function(){"0"===$("input[name='use_subdomain']:checked").val()?($("#DomainType").hide(),$("input[name='domain_type']").prop("checked",!1)):($("#DomainType").show(),void 0===$("input[name='domain_type']:checked").val()&&$("#domain-type-1").prop("checked",!0))}};e.mounted()})();
//# sourceMappingURL=form.bundle.js.map