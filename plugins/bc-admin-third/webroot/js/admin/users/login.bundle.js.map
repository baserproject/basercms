{"version":3,"file":"js/admin/users/login.bundle.js","mappings":";;;;;;;;;m5BAUAA,GAAE,WAEE,IAAIC,EAAeD,EAAE,iBACjBE,EAAsBF,EAAE,0BAA0BG,KAAK,4BAM3D,GAJID,GACAF,EAAE,QAAQI,OAGVF,EAAqB,CACrB,IAAIG,EAAQL,EAAE,QACVM,EAAQN,EAAE,SACdK,EAAME,OAAOP,EAAE,qBAAqBG,KAAK,KAAM,UAAUK,QACzDR,EAAE,gBAAgBS,IAAI,SAAU,QAChCH,EAAMG,IAAI,WAAY,YACtBH,EAAMG,IAAI,UAAW,SACrBC,EAAWR,GAEXG,EAAMM,OAAO,GACjB,CA0DA,SAASD,EAAWE,GACZA,EACAZ,EAAEa,SAASL,OAUnB,SAAoBM,GAChB,IAAIC,EAAUf,EAAE,WACZM,EAAQN,EAAE,SACd,IAAKe,EAAQC,OACT,OAEJhB,EAAE,gBAAgBS,IAAI,SAAU,QAChCH,EAAMG,IAAI,WAAY,YACtBH,EAAMG,IAAI,UAAW,KACrBT,EAAE,SAASS,IAAI,SAAU,SACrBK,GACIC,EAAQC,QACRD,EAAQE,QAAQ,IAAMH,GAE1BA,KAEIC,EAAQC,QACRD,EAAQE,QAAQ,IAG5B,CA5BQC,EAER,CA3DAlB,EAAE,aAAamB,OAAM,WA0BjB,OAzBAnB,EAAEoB,OAAOC,aACTpB,EAAagB,UACbjB,EAAEsB,MAAMC,MACJvB,EAAE,UAAUwB,MACZxB,EAAE,aAAawB,MACfxB,EAAE,UAAUyB,KAAK,YACjB,SAAUC,GACN,IACIC,EADQC,mBAAmBC,SAASC,QAAQC,QAAQ,IAAK,IAAIC,MAAM,KAEjEC,SAAQ,SAAUC,GACpB,IAA+B,IAAZA,EAAEF,MAAM,KAAI,GAA1BG,EAAG,KAAEC,EAAK,KACH,aAARD,IACAR,EAAWS,EAEnB,IAEIP,SAASQ,KADTV,GAGgBD,EAASC,QAEjC,IAAG,WACC1B,EAAaU,SACbX,EAAEoB,OAAOkB,YACb,KAEG,CACX,IAMAtC,EAAE,UAAUmB,OAAM,WACdT,GAAW,EACf,IAMAV,EAAE,eAAemB,OAAM,SAAUoB,GACzBA,GAAKA,EAAEC,gBACPD,EAAEC,kBAEFC,OAAOC,MAAMC,cAAe,CAEpC,GAwCJ,G","sources":["webpack://bc-admin-third/./src/js/admin/users/login.js"],"sourcesContent":["/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) NPO baser foundation <https://baserfoundation.org/>\n *\n * @copyright     Copyright (c) NPO baser foundation\n * @link          https://basercms.net baserCMS Project\n * @since         5.0.0\n * @license       https://basercms.net/license/index.html MIT License\n */\n\n$(function () {\n\n    let alertMessage = $(\"#AlertMessage\");\n    let isEnableLoginCredit = $(\"#AdminUsersLoginScript\").attr('data-isEnableLoginCredit');\n\n    if (isEnableLoginCredit) {\n        $(\"body\").hide();\n    }\n\n    if (isEnableLoginCredit) {\n        let $body = $(\"body\");\n        let $logo = $(\"#Logo\");\n        $body.append($(\"<div>&nbsp;</div>\").attr('id', 'Credit').show());\n        $(\"#HeaderInner\").css('height', '50px');\n        $logo.css('position', 'absolute');\n        $logo.css('z-index', '10000');\n        changeView(isEnableLoginCredit);\n        // 本体がない場合にフッターが上にあがってしまうので一旦消してから表示\n        $body.fadeIn(50);\n    }\n\n    /**\n     * ログイン実行\n     */\n    $(\"#BtnLogin\").click(function () {\n        $.bcUtil.showLoader()\n        alertMessage.fadeOut()\n        $.bcJwt.login(\n            $('#email').val(),\n            $('#password').val(),\n            $('#saved').prop('checked'),\n            function (response) {\n                let query = decodeURIComponent(location.search).replace('?', '').split('&');\n                let redirect\n                query.forEach(function (v) {\n                    let [key, value] = v.split('=')\n                    if (key === 'redirect') {\n                        redirect = value\n                    }\n                });\n                if (redirect) {\n                    location.href = redirect\n                } else {\n                    location.href = response.redirect\n                }\n            }, function () {\n                alertMessage.fadeIn()\n                $.bcUtil.hideLoader()\n            }\n        )\n        return false;\n    });\n\n    /**\n     * ログインエリア周辺クリック時\n     * エンドロールを非表示にする\n     */\n    $(\"#Login\").click(function () {\n        changeView(false);\n    });\n\n    /**\n     * ログインエリア内側クリック時\n     * エンドロールの非表示を無効にする\n     */\n    $(\"#LoginInner\").click(function (e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        } else {\n            window.event.cancelBubble = true;\n        }\n    });\n\n    /**\n     * エンドロールの表示を切り替える\n     * @param creditOn\n     */\n    function changeView(creditOn) {\n        if (creditOn) {\n            $.bcCredit.show();\n        } else {\n            openCredit();\n        }\n    }\n\n    /**\n     * エンドロールを表示する\n     * @param completeHandler\n     */\n    function openCredit(completeHandler) {\n        let $credit = $(\"#Credit\");\n        let $logo = $(\"#Logo\");\n        if (!$credit.length) {\n            return;\n        }\n        $(\"#HeaderInner\").css('height', 'auto');\n        $logo.css('position', 'relative');\n        $logo.css('z-index', '0');\n        $(\"#Wrap\").css('height', '280px');\n        if (completeHandler) {\n            if ($credit.length) {\n                $credit.fadeOut(1000, completeHandler);\n            }\n            completeHandler();\n        } else {\n            if ($credit.length) {\n                $credit.fadeOut(1000);\n            }\n        }\n    }\n\n});\n"],"names":["$","alertMessage","isEnableLoginCredit","attr","hide","$body","$logo","append","show","css","changeView","fadeIn","creditOn","bcCredit","completeHandler","$credit","length","fadeOut","openCredit","click","bcUtil","showLoader","bcJwt","login","val","prop","response","redirect","decodeURIComponent","location","search","replace","split","forEach","v","key","value","href","hideLoader","e","stopPropagation","window","event","cancelBubble"],"sourceRoot":""}