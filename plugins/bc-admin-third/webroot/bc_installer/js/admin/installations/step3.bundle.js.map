{"version":3,"file":"bc_installer/js/admin/installations/step3.bundle.js","mappings":"MAwEA,SAASA,IAEL,IAMIC,EAAMC,EAAMC,EAAQC,EANpBC,EAAUC,EAAE,WACZC,EAAWD,EAAE,YACbE,EAAUF,EAAE,WACZG,EAAUH,EAAE,WACZI,EAAUJ,EAAE,WACZK,EAAYL,EAAE,aAGI,UAAlBD,EAAQO,OACRN,EAAE,aAAaO,KAAK,KACpBP,EAAE,aAAaO,KAAK,KACpBP,EAAE,aAAaO,KAAK,KACpBP,EAAE,eAAeO,OACjBX,EAAO,YACPC,EAAS,QACTF,EAAO,OACPG,EAAS,WACgB,aAAlBC,EAAQO,OACfN,EAAE,aAAaO,KAAK,KACpBP,EAAE,aAAaO,KAAK,KACpBP,EAAE,aAAaO,KAAK,KACpBP,EAAE,eAAeO,OACjBX,EAAO,YACPC,EAAS,QACTF,EAAO,OACPG,EAAS,WACgB,WAAlBC,EAAQO,OACfN,EAAE,aAAaQ,KAAK,KACpBR,EAAE,aAAaQ,KAAK,KACpBR,EAAE,aAAaQ,KAAK,KACpBR,EAAE,eAAeQ,OACjBP,EAASQ,WAAW,YAAYC,KAAK,oBAAqB,MAAMA,KAAK,qBAAsB,MAC3Fb,EAAS,QACTF,EAAO,GACPU,EAAUC,IAAI,MAEdN,EAAE,aAAaO,KAAK,KACpBP,EAAE,WAAWO,KAAK,KAClBP,EAAE,WAAWO,KAAK,KAClBP,EAAE,eAAeO,QAEhBL,EAAQI,OAAOJ,EAAQI,IAAIV,GAC3BO,EAAQG,OAAOH,EAAQG,IAAIT,GAC3BO,EAAQE,OAAOF,EAAQE,IAAIX,GAC3BU,EAAUC,OAAOD,EAAUC,IAAIR,GACpCI,EAAQS,OACZ,CAxHAX,GAAE,WACE,IAAIE,EAAUF,EAAE,WACZG,EAAUH,EAAE,WACZI,EAAUJ,EAAE,WACZK,EAAYL,EAAE,aACdY,EAAcZ,EAAE,eAChBa,EAAcb,EAAE,eAEpBN,IAGAM,EAAE,mCAAmCc,OAAM,WACvCd,EAAEe,OAAOC,aACO,YAAZC,KAAKC,GACLlB,EAAE,SAASM,IAAI,YACI,YAAZW,KAAKC,GACZlB,EAAE,SAASM,IAAI,QACI,eAAZW,KAAKC,IACZlB,EAAE,SAASM,IAAI,WAEnB,IAAIa,GAAS,EA4Bb,GA3BgB,YAAZF,KAAKC,IAA2C,WAAvBlB,EAAE,WAAWM,QAChB,KAAlBJ,EAAQI,OACRc,MAAMC,OAAOC,UACbH,GAAS,GACoB,KAAtBP,EAAYN,OACnBc,MAAMC,OAAOE,UACbJ,GAAS,GACgB,KAAlBhB,EAAQG,OACfc,MAAMC,OAAOG,UACbL,GAAS,GACkB,KAApBd,EAAUC,OACjBc,MAAMC,OAAOI,UACbN,GAAS,GACDd,EAAUC,MAAMoB,MAAM,QAGtBrB,EAAUC,MAAMoB,MAAM,oBAGvBvB,EAAQG,MAAMoB,MAAM,aAC3BN,MAAMC,OAAOM,UACbR,GAAS,GACgB,KAAlBf,EAAQE,QACfc,MAAMC,OAAOO,UACbT,GAAS,IAPTC,MAAMC,OAAOQ,UACbV,GAAS,IAJTC,MAAMC,OAAOS,UACbX,GAAS,KAYbA,EAIA,OADAnB,EAAEe,OAAOgB,cACF,EAHP/B,EAAE,kBAAkBgC,QAK5B,IAEAhC,EAAE,WAAWiC,QAAO,WAChB/B,EAAQI,IAAI,IACZM,EAAYN,IAAI,IAChBO,EAAYP,IAAI,IAChBH,EAAQG,IAAI,IACZF,EAAQE,IAAI,IACZD,EAAUC,IAAI,IACdZ,GACJ,GAEJ,G","sources":["webpack://bc-admin-third/./src/bc_installer/js/admin/installations/step3.js"],"sourcesContent":["$(function () {\n    let $dbHost = $('#dbHost');\n    let $dbName = $('#dbName');\n    let $dbPort = $('#dbPort');\n    let $dbPrefix = $('#dbPrefix');\n    let $dbUserName = $('#dbUsername');\n    let $dbPassword = $('#dbPassword');\n\n    initForm();\n\n    /* イベント登録 */\n    $('#BtnCheckDb, #BtnNext, #BtnBack').click(function array() {\n        $.bcUtil.showLoader();\n        if (this.id === 'BtnNext') {\n            $(\"#mode\").val('createDb');\n        } else if (this.id === 'BtnBack') {\n            $(\"#mode\").val('back');\n        } else if (this.id === 'BtnCheckDb') {\n            $(\"#mode\").val('checkDb');\n        }\n        var result = true;\n        if (this.id !== 'BtnBack' && $('#dbType').val() !== 'sqlite') {\n            if ($dbHost.val() === \"\") {\n                alert(bcI18n.message1);\n                result = false;\n            } else if ($dbUserName.val() === \"\") {\n                alert(bcI18n.message2);\n                result = false;\n            } else if ($dbName.val() === \"\") {\n                alert(bcI18n.message3);\n                result = false;\n            } else if ($dbPrefix.val() === \"\") {\n                alert(bcI18n.message4);\n                result = false;\n            } else if (!$dbPrefix.val().match(/[_]$/)) {\n                alert(bcI18n.message5);\n                result = false;\n            } else if (!$dbPrefix.val().match(/^[a-zA-z0-9_]+_$/)) {\n                alert(bcI18n.message6);\n                result = false;\n            } else if ($dbName.val().match(/^.*\\..*$/)) {\n                alert(bcI18n.message7);\n                result = false;\n            } else if ($dbPort.val() === \"\") {\n                alert(bcI18n.message8);\n                result = false;\n            }\n        }\n        if (result) {\n            $('#DbSettingForm').submit();\n        } else {\n            $.bcUtil.hideLoader();\n            return false;\n        }\n    });\n\n    $('#dbType').change(function () {\n        $dbHost.val('');\n        $dbUserName.val('');\n        $dbPassword.val('');\n        $dbName.val('');\n        $dbPort.val('');\n        $dbPrefix.val('');\n        initForm();\n    });\n\n});\n\n/**\n * フォームを初期化する\n * @return void\n */\nfunction initForm() {\n\n    let $dbType = $('#dbType');\n    let $btnNext = $('#BtnNext');\n    let $dbHost = $('#dbHost');\n    let $dbName = $('#dbName');\n    let $dbPort = $('#dbPort');\n    let $dbPrefix = $('#dbPrefix');\n    let port, host, dbName, prefix;\n\n    if ($dbType.val() === 'mysql') {\n        $('#liDbHost').show(500);\n        $('#liDbUser').show(500);\n        $('#liDbInfo').show(500);\n        $('#BtnCheckDb').show();\n        host = 'localhost';\n        dbName = 'baser';\n        port = '3306';\n        prefix = 'mysite_';\n    } else if ($dbType.val() === 'postgres') {\n        $('#liDbHost').show(500);\n        $('#liDbUser').show(500);\n        $('#liDbInfo').show(500);\n        $('#BtnCheckDb').show();\n        host = 'localhost';\n        dbName = 'baser';\n        port = '5432';\n        prefix = 'mysite_';\n    } else if ($dbType.val() === 'sqlite') {\n        $('#liDbHost').hide(500);\n        $('#liDbUser').hide(500);\n        $('#liDbInfo').hide(500);\n        $('#BtnCheckDb').hide();\n        $btnNext.removeAttr(\"disabled\").attr('data-bca-btn-size', 'lg').attr('data-bca-btn-width', 'lg');\n        dbName = 'baser';\n        port = '';\n        $dbPrefix.val('');\n    } else {\n        $('#liDbHost').show(500);\n        $('#dbUser').show(500);\n        $('#dbInfo').show(500);\n        $('#BtnCheckDb').show();\n    }\n    if (!$dbHost.val()) $dbHost.val(host);\n    if (!$dbName.val()) $dbName.val(dbName);\n    if (!$dbPort.val()) $dbPort.val(port);\n    if (!$dbPrefix.val()) $dbPrefix.val(prefix);\n    $dbHost.focus();\n}\n"],"names":["initForm","port","host","dbName","prefix","$dbType","$","$btnNext","$dbHost","$dbName","$dbPort","$dbPrefix","val","show","hide","removeAttr","attr","focus","$dbUserName","$dbPassword","click","bcUtil","showLoader","this","id","result","alert","bcI18n","message1","message2","message3","message4","match","message7","message8","message6","message5","hideLoader","submit","change"],"sourceRoot":""}