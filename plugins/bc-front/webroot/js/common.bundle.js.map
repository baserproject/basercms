{"version":3,"file":"js/common.bundle.js","mappings":"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","sources":["webpack://bc-front/../bc-admin-third/src/js/admin/_lib/jquery.bcToken.js","webpack://bc-front/webpack/bootstrap","webpack://bc-front/../../node_modules/js-cookie/dist/js.cookie.mjs","webpack://bc-front/../bc-admin-third/src/js/admin/_lib/jquery.bcUtil.js"],"sourcesContent":["/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) NPO baser foundation <https://baserfoundation.org/>\n *\n * @copyright     Copyright (c) NPO baser foundation\n * @link          https://basercms.net baserCMS Project\n * @since         5.0.0\n * @license       https://basercms.net/license/index.html MIT License\n */\n\n/**\n * bcTokenプラグイン\n *\n * フロントエンドでCakePHPのセキュリティコンポーネントのトークンの管理等を行う\n */\n\n(function ($) {\n\n    $.bcToken = {\n\n        /**\n         * トークン\n         */\n        key: null,\n\n        /**\n         * トークンを取得済かどうか\n         */\n        requested: false,\n\n        /**\n         * トークンを取得中かどうか\n         */\n        requesting: false,\n\n        /**\n         * トークンURL\n         */\n        url: null,\n\n        /**\n         * デフォルトトークンURL\n         */\n        defaultUrl: '/baser-core/bc_form/get_token?requestview=false',\n\n        /**\n         * 初期化\n         */\n        init: function () {\n            this.setTokenUrl();\n        },\n\n        /**\n         * トークンを取得しているかどうかチェックし、取得していない場合取得する\n         * コールバック処理を登録する前提となっており、コールバック処理完了後、再度、新しいトークンを取得する\n         *\n         * @param callback\n         * @param config\n         */\n        check: function (callback, config) {\n            if (this.requesting) {\n                var timer = setInterval(function () {\n                    if (!$.bcToken.requesting) {\n                        clearInterval(timer);\n                        if (callback) {\n                            $.bcToken.execCallback(callback, config);\n                        }\n                    }\n                }, 100);\n            } else {\n                if (!this.key) {\n                    this.update(config).done(function () {\n                        if (callback) {\n                            $.bcToken.execCallback(callback, config);\n                        }\n                    });\n                } else {\n                    if (callback) {\n                        this.execCallback(callback, config);\n                    }\n                }\n            }\n        },\n\n        /**\n         * コールバック処理を実行\n         * @param callback\n         * @param config\n         */\n        execCallback: function (callback, config) {\n            var _config = {\n                useUpdate: true\n            };\n            if (config !== undefined) {\n                config = $.extend(_config, config);\n            } else {\n                config = _config;\n            }\n            var result = callback();\n            if (config.useUpdate) {\n                config.hideLoader = true;\n                config.loaderType = 'none';\n                if (result) {\n                    result.always(function () {\n                        $.bcToken.update(config);\n                    });\n                } else {\n                    this.update(config);\n                }\n            }\n        },\n\n        /**\n         * 新しいトークンをサーバーより取得する\n         *\n         * @param config\n         */\n        update: function (config) {\n            var _config = {\n                type: 'GET'\n            };\n            if (config !== undefined) {\n                config = $.extend(_config, config);\n            } else {\n                config = _config;\n            }\n            this.requesting = true;\n            return $.bcUtil.ajax(this.url, function (result) {\n                $.bcToken.key = result;\n                $.bcToken.requesting = false;\n                $('input[name=\"_csrfToken\"]').val($.bcToken.key);\n            }, $.extend(true, {}, config));\n        },\n\n        /**\n         * トークンを取得した空のフォームを取得する\n         * コールバック処理の引数として利用可能\n         * @param url\n         * @param options\n         * @param callback\n         * @param config\n         */\n        getForm: function (url, options, callback, config) {\n            var form = $('<form/>');\n            form.attr('action', url).attr('method', 'post');\n            this.check(function () {\n                form.append($.bcToken.getHiddenToken());\n                if (options.fields) form.append(options.fields);\n                if (options.unlocked) form.append(options.unlocked);\n                if (options.debug) form.append(options.debug);\n                callback(form);\n            }, config);\n        },\n\n        /**\n         * トークン用の hidden タグを取得する\n         *\n         * @returns {*}\n         */\n        getHiddenToken: function () {\n            return $('<input name=\"_csrfToken\" type=\"hidden\">').val(this.key);\n        },\n\n        /**\n         * 指定したURLに対しトークンを付加した上でPOST送信を行う\n         * @param url\n         * @param options\n         */\n        submitToken: function (url, options) {\n            this.getForm(url, options, function (form) {\n                $('body').append(form);\n                form.submit();\n            }, {useUpdate: false, hideLoader: false});\n        },\n\n        /**\n         * 指定したセレクターのリンクのクリックイベントについて、\n         * トークン付加前提のフォーム送信処理に置き換える\n         *\n         * CakePHP の postLink に対応\n         * postLink を利用した場合、ローダーを表示するなどの処理を割り込ませる事ができないが、\n         * CakePHP が生成するフォームでなく、こちらで生成するフォームを利用することで、ローダーを表示できるようにした。\n         * @param selector\n         */\n        replaceLinkToSubmitToken: function (selector) {\n            $(selector).each(function () {\n                if ($(this).attr('onclick')) {\n                    var regex = /document\\.(post_.+?).submit\\(\\)/;\n                    var result = $(this).attr('onclick').match(regex);\n                    if (result) {\n                        $(this).attr('data-post-link-form-id', result[1]);\n                    }\n                    $(this).get(0).onclick = '';\n                    $(this).removeAttr('onclick');\n                }\n            });\n            $(selector).click(function () {\n                if ($(this).attr('data-confirm-message')) {\n                    var message = $(this).attr('data-confirm-message');\n                    if (!confirm(message)) {\n                        return false;\n                    }\n                }\n                let url = $(this).attr('href');\n                let options = {};\n                if ($(this).attr('data-post-link-form-id')) {\n                    let postLinkForm = $(\"form[name='\" + $(this).attr('data-post-link-form-id') + \"']\");\n                    let fields = postLinkForm.find(\"input[name='_Token[fields]']\");\n                    let unlocked = postLinkForm.find(\"input[name='_Token[unlocked]']\");\n                    let debug = postLinkForm.find(\"input[name='_Token[debug]']\");\n                    url = postLinkForm.attr('action');\n                    options = {\n                        fields: (fields.length) ? fields : null,\n                        unlocked: (unlocked.length) ? unlocked : null,\n                        debug: (debug.length) ? debug : null\n                    }\n                }\n                // key を null にしておくことで、トークンを再取得時の loading が表示されるようになる\n                $.bcToken.key = null;\n                $.bcToken.submitToken(url, options);\n                return false;\n            });\n        },\n\n        /**\n         * トークン発行URLのセット\n         * @param url トークン発行URL。nullの場合はデフォルトURL\n         */\n        setTokenUrl: function (url) {\n            this.url = url != null ? url : $.bcUtil.baseUrl + this.defaultUrl;\n            return this;\n        }\n\n    };\n\n})(jQuery);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) NPO baser foundation <https://baserfoundation.org/>\n *\n * @copyright     Copyright (c) NPO baser foundation\n * @link          https://basercms.net baserCMS Project\n * @since         5.0.0\n * @license       https://basercms.net/license/index.html MIT License\n */\nimport Cookies from 'js-cookie'\n\n(function ($) {\n    $.bcUtil = {\n        /**\n         * hideMessage() を無効にする\n         */\n        disabledHideMessage: false,\n\n\n        /**\n         * ベースとなるURL\n         */\n        baseUrl: null,\n\n        /**\n         * BaserCoreプレフィックス\n         */\n        baserCorePrefix: null,\n\n        /**\n         * 管理画面用URLプレフィックス\n         */\n        adminPrefix: null,\n\n        /**\n         * 管理画面用のベースURL\n         */\n        adminBaseUrl: null,\n\n        /**\n         * API用のベースURL\n         */\n        apiBaseUrl: null,\n\n        /**\n         * 管理画面用APIのベースURL\n         */\n        apiAdminBaseUrl: null,\n\n        /**\n         * Ajaxローダーのパス\n         */\n        ajaxLoaderPath: null,\n\n        /**\n         * Ajaxローダー（小）のパス\n         */\n        ajaxLoaderSmallPath: null,\n\n        /**\n         * 初期化\n         *\n         * @param config\n         */\n        init: function (config) {\n            if(config === undefined) config = {};\n            var adminScript = $(\"#AdminScript\");\n            $.bcUtil.baseUrl = adminScript.attr('data-baseUrl');\n            $.bcUtil.baserCorePrefix = adminScript.attr('data-baserCorePrefix');\n            $.bcUtil.adminPrefix = adminScript.attr('data-adminPrefix');\n            $.bcUtil.ajaxLoaderPath = adminScript.attr('data-ajaxLoaderPath');\n            $.bcUtil.ajaxLoaderSmallPath = adminScript.attr('data-ajaxLoaderSmallPath');\n            $.bcUtil.frontFullUrl = adminScript.attr('data-frontFullUrl');\n            if (config.baseUrl !== undefined) {\n                $.bcUtil.baseUrl = config.baseUrl;\n            }\n            if (config.baserCorePrefix !== undefined) {\n                $.bcUtil.baserCorePrefix = config.baserCorePrefix;\n            }\n            if (config.adminPrefix !== undefined) {\n                $.bcUtil.adminPrefix = config.adminPrefix;\n            }\n            if (config.ajaxLoaderPath !== undefined) {\n                $.bcUtil.ajaxLoaderPath = config.ajaxLoaderPath;\n            }\n            if (config.ajaxLoaderSmallPath !== undefined) {\n                $.bcUtil.ajaxLoaderSmallPath = config.ajaxLoaderSmallPath;\n            }\n            $.bcUtil.adminBaseUrl = $.bcUtil.baseUrl + '/' + $.bcUtil.baserCorePrefix + '/' + $.bcUtil.adminPrefix + '/';\n            $.bcUtil.apiBaseUrl = $.bcUtil.baseUrl + '/' + $.bcUtil.baserCorePrefix + '/api/';\n            $.bcUtil.apiAdminBaseUrl = $.bcUtil.baseUrl + '/' + $.bcUtil.baserCorePrefix + '/api/admin/';\n            this.setUpTextCounter();\n        },\n\n        /**\n         * アラートメッセージを表示\n         *\n         * @param message\n         */\n        showAlertMessage: function (message) {\n            $.bcUtil.hideMessage();\n            $(\"#BcSystemMessage\")\n                .removeClass('notice-messge alert-message')\n                .addClass('alert-message')\n                .html(message);\n            $(\"#BcMessageBox\").fadeIn(500);\n        },\n\n        /**\n         * ノーティスメッセージを表示\n         *\n         * @param message\n         */\n        showNoticeMessage: function (message) {\n            $.bcUtil.hideMessage();\n            $(\"#BcSystemMessage\")\n                .removeClass('notice-messge alert-message')\n                .addClass('notice-message')\n                .html(message);\n            $(\"#BcMessageBox\").fadeIn(500);\n        },\n\n        /**\n         * メッセージを隠す\n         */\n        hideMessage: function () {\n            if (!$.bcUtil.disabledHideMessage) {\n                $(\"#BcMessageBox\").fadeOut(200);\n                $(\"#AlertMessage\").fadeOut(200);\n                $(\"#MessageBox\").fadeOut(200);\n            }\n        },\n\n        /**\n         * ローダーを表示\n         */\n        showLoader: function (type, selector, key) {\n            if (type == undefined || (type != 'none' && selector == undefined)) {\n                type = 'over';\n            }\n            switch (type) {\n                case 'over':\n                    $(\"#Waiting\").show();\n                    break;\n                case 'inner':\n                    var div = $('<div>').css({'text-align': 'center'}).attr('id', key);\n                    var img = $('<img>').attr('src', $.bcUtil.ajaxLoaderPath);\n                    div.html(img);\n                    $(selector).html(div);\n                    break;\n                case 'after':\n                    var img = $('<img>').attr('src', $.bcUtil.ajaxLoaderSmallPath).attr('id', key).css({\n                        'width':'16px',\n                        'vertical-align': 'middle',\n                        'margin':'5px'\n                    });\n                    $(selector).after(img);\n                    break;\n                case 'target':\n                    $(selector).show();\n                    break;\n                case 'none':\n                    break;\n            }\n        },\n\n        /**\n         * ローダーを隠す\n         */\n        hideLoader: function (type, selector, key) {\n            if (type == undefined || (type != 'none' && selector == undefined)) {\n                type = 'over';\n            }\n            switch (type) {\n                case 'over':\n                    $(\"#Waiting\").hide();\n                    break;\n                case 'inner':\n                    $(\"#\" + key).remove();\n                    break;\n                case 'after':\n                    $(\"#\" + key).remove();\n                    break;\n                case 'target':\n                    $(selector).show();\n                    break;\n                case 'none':\n                    break;\n            }\n        },\n\n        /**\n         * Ajax\n         */\n        ajax: function (url, success, config) {\n            if (!config) {\n                config = {};\n            }\n            var loaderType, loaderSelector, loaderKey;\n            var hideLoader = true;\n            if (typeof config.loaderType !== 'undefined') {\n                loaderType = config.loaderType;\n                delete config.loaderType;\n            }\n            if (typeof config.loaderSelector !== 'undefined') {\n                loaderSelector = config.loaderSelector;\n                delete config.loaderSelector;\n                loaderKey = loaderSelector.replace(/\\./g, '').replace(/#/g, '').replace(/\\s/g, '') + 'loaderkey';\n            }\n            if (typeof config.hideLoader !== 'undefined') {\n                hideLoader = config.hideLoader;\n                delete config.loaderType;\n            }\n            var ajaxConfig = {\n                url: url,\n                type: 'POST',\n                dataType: 'html',\n                beforeSend: function () {\n                    $.bcUtil.showLoader(loaderType, loaderSelector, loaderKey);\n                },\n                complete: function () {\n                    if (hideLoader) {\n                        $.bcUtil.hideLoader(loaderType, loaderSelector, loaderKey);\n                    }\n                },\n                error: function (XMLHttpRequest, textStatus, errorThrown) {\n                    $.bcUtil.showAjaxError(bcI18n.commonExecFailedMessage, XMLHttpRequest, errorThrown);\n                },\n                success: success\n            };\n            if (config) {\n                $.extend(ajaxConfig, config);\n            }\n            return $.ajax(ajaxConfig);\n        },\n\n        /**\n         * Ajax のエラーメッセージを表示\n         *\n         * @param XMLHttpRequest\n         * @param errorThrown\n         * @param message\n         */\n        showAjaxError: function (message, XMLHttpRequest, errorThrown) {\n            var errorMessage = '';\n            if (XMLHttpRequest !== undefined && XMLHttpRequest.status) {\n                errorMessage = '<br>(' + XMLHttpRequest.status + ') ';\n            }\n            if(XMLHttpRequest !== undefined && XMLHttpRequest.responseJSON){\n                errorMessage += XMLHttpRequest.responseJSON.message;\n            }\n            if (XMLHttpRequest !== undefined && XMLHttpRequest.responseText) {\n                errorMessage += '<br>' + XMLHttpRequest.responseText;\n            } else if (errorThrown !== undefined) {\n                errorMessage += '<br>' + errorThrown;\n            }\n            $.bcUtil.showAlertMessage(message + errorMessage);\n        },\n\n        /**\n         * APIのエラーメッセージを表示\n         * @param response\n         */\n        showApiError: function (response) {\n            let message = response.responseJSON.message;\n            let errors = response.responseJSON.errors;\n            if(errors !== undefined) {\n                message += \"<br>\";\n                Object.keys(errors).forEach(function (key) {\n                    message += \"<ul>\"\n                    Object.keys(errors[key]).forEach(function (index) {\n                        message += \"<li>\" + errors[key][index] + \"</li>\";\n                    });\n                    message += \"</ul>\"\n                });\n            }\n            $.bcUtil.showAlertMessage(message);\n        },\n\n        /**\n         * フラッシュメッセージをセットする\n         *\n         * 一度しか表示できないメッセージ\n         * @param message\n         */\n        setFlashMessage: function(message) {\n            Cookies.set('bcFlashMessage', message);\n        },\n\n        /**\n         * フラッシュメッセージを表示する\n         *\n         * 一度表示したら削除する\n         */\n        showFlashMessage: function () {\n            let message = Cookies.get('bcFlashMessage');\n            if(message !== undefined) {\n                this.showNoticeMessage(message);\n                Cookies.remove('bcFlashMessage')\n            }\n        },\n\n        /**\n         * ツールチップを初期化する\n         *\n         * @param config\n         */\n        initTooltip: function(config) {\n            let btConfig = {\n                target: '.bca-help',\n                content: '.bca-helptext'\n            };\n            if(config !== undefined) {\n                $.extend(btConfig, config);\n            }\n            let $help = $(btConfig.target);\n            if ($help.bt) {\n                $(btConfig.content).css('display', 'none');\n                $.bt.options.closeWhenOthersOpen = true;\n                $help.bt({\n                    trigger: 'click',\n                    positions: 'top',\n                    shadow: true,\n                    shadowOffsetX: 1,\n                    shadowOffsetY: 1,\n                    shadowBlur: 8,\n                    shadowColor: 'rgba(101,101,101,.6)',\n                    shadowOverlap: false,\n                    noShadowOpts: {\n                        strokeStyle: '#999',\n                        strokeWidth: 1\n                    },\n                    width: '600px',\n                    /*shrinkToFit: true,*/\n                    spikeLength: 12,\n                    spikeGirth: 18,\n                    padding: 20,\n                    cornerRadius: 0,\n                    strokeWidth: 1, /*no stroke*/\n                    strokeStyle: '#656565',\n                    fill: 'rgba(255, 255, 255, 1.00)',\n                    cssStyles: {\n                        fontSize: '14px'\n                    },\n                    showTip: function (box) {\n                        $(box).fadeIn(200);\n                    },\n                    hideTip: function (box, callback) {\n                        $(box).animate({\n                            opacity: 0\n                        }, 100, callback);\n                    },\n                    contentSelector: `$(this).next('${btConfig.content}').html()`\n                });\n            }\n        },\n\n        /**\n         * テキストカウンターをセットアップする\n         */\n        setUpTextCounter(selector) {\n            if(selector === undefined) {\n                selector = \".bca-text-counter\";\n            }\n            const $textCounter = $(selector);\n            $textCounter.after('<span class=\"bca-text-counter-value\"></span>');\n            $textCounter.keyup(function (){\n                var len = $(this).val().length;\n                var maxlen = $(this).attr('maxlength');\n                if(!maxlen || maxlen === -1){\n                    maxlen = '-';\n                }\n                $(this).next().html(len+' /<small>'+maxlen+'</small>');\n            });\n            $textCounter.keyup();\n        },\n\n    };\n})(jQuery);\n"],"names":["$","jQuery","bcToken","key","requested","requesting","url","defaultUrl","init","this","setTokenUrl","check","callback","config","timer","setInterval","clearInterval","execCallback","update","done","_config","useUpdate","undefined","extend","result","hideLoader","loaderType","always","type","bcUtil","ajax","val","getForm","options","form","attr","append","getHiddenToken","fields","unlocked","debug","submitToken","submit","replaceLinkToSubmitToken","selector","each","match","get","onclick","removeAttr","click","message","confirm","postLinkForm","find","length","baseUrl","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","target","i","arguments","source","api","converter","defaultAttributes","set","name","value","attributes","document","expires","Date","now","toUTCString","encodeURIComponent","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","split","cookie","write","Object","create","cookies","jar","parts","slice","join","found","read","e","remove","withAttributes","withConverter","freeze","path","disabledHideMessage","baserCorePrefix","adminPrefix","adminBaseUrl","apiBaseUrl","apiAdminBaseUrl","ajaxLoaderPath","ajaxLoaderSmallPath","adminScript","frontFullUrl","setUpTextCounter","showAlertMessage","hideMessage","removeClass","addClass","html","fadeIn","showNoticeMessage","fadeOut","showLoader","show","div","css","img","after","hide","success","loaderSelector","loaderKey","ajaxConfig","dataType","beforeSend","complete","error","XMLHttpRequest","textStatus","errorThrown","showAjaxError","bcI18n","commonExecFailedMessage","errorMessage","status","responseJSON","responseText","showApiError","response","errors","keys","forEach","index","setFlashMessage","Cookies","showFlashMessage","initTooltip","btConfig","content","$help","bt","closeWhenOthersOpen","trigger","positions","shadow","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","shadowOverlap","noShadowOpts","strokeStyle","strokeWidth","width","spikeLength","spikeGirth","padding","cornerRadius","fill","cssStyles","fontSize","showTip","box","hideTip","animate","opacity","contentSelector","concat","$textCounter","keyup","len","maxlen","next"],"sourceRoot":""}