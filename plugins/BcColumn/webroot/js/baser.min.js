/**
 * baserjs - v0.1.0-rc r186
 * update: 2014-12-12
 * Author: baserCMS Users Community [https://github.com/baserproject/]
 * Github: https://github.com/baserproject/baserjs
 * License: Licensed under the MIT License
 */


(function(){"use strict";var a=this,b=a.document,c=a.location,d=jQuery;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function c(a){return i.raw?a:encodeURIComponent(a)}function d(a){return i.raw?a:decodeURIComponent(a)}function e(a){return c(i.json?JSON.stringify(a):String(a))}function f(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(h," ")),i.json?JSON.parse(a):a}catch(b){}}function g(b,c){var d=i.raw?b:f(b);return a.isFunction(c)?c(d):d}var h=/\+/g,i=a.cookie=function(f,h,j){if(arguments.length>1&&!a.isFunction(h)){if(j=a.extend({},i.defaults,j),"number"==typeof j.expires){var k=j.expires,l=j.expires=new Date;l.setTime(+l+864e5*k)}return b.cookie=[c(f),"=",e(h),j.expires?"; expires="+j.expires.toUTCString():"",j.path?"; path="+j.path:"",j.domain?"; domain="+j.domain:"",j.secure?"; secure":""].join("")}for(var m=f?void 0:{},n=b.cookie?b.cookie.split("; "):[],o=0,p=n.length;p>o;o++){var q=n[o].split("="),r=d(q.shift()),s=q.join("=");if(f&&f===r){m=g(s,h);break}f||void 0===(s=g(s))||(m[r]=s)}return m};i.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(c){function d(b){var d=b||a.event,i=k.call(arguments,1),j=0,l=0,n=0,o=0,p=0,q=0;if(b=c.event.fix(d),b.type="mousewheel","detail"in d&&(n=-1*d.detail),"wheelDelta"in d&&(n=d.wheelDelta),"wheelDeltaY"in d&&(n=d.wheelDeltaY),"wheelDeltaX"in d&&(l=-1*d.wheelDeltaX),"axis"in d&&d.axis===d.HORIZONTAL_AXIS&&(l=-1*n,n=0),j=0===n?l:n,"deltaY"in d&&(n=-1*d.deltaY,j=n),"deltaX"in d&&(l=d.deltaX,0===n&&(j=-1*l)),0!==n||0!==l){if(1===d.deltaMode){var r=c.data(this,"mousewheel-line-height");j*=r,n*=r,l*=r}else if(2===d.deltaMode){var s=c.data(this,"mousewheel-page-height");j*=s,n*=s,l*=s}if(o=Math.max(Math.abs(n),Math.abs(l)),(!h||h>o)&&(h=o,f(d,o)&&(h/=40)),f(d,o)&&(j/=40,l/=40,n/=40),j=Math[j>=1?"floor":"ceil"](j/h),l=Math[l>=1?"floor":"ceil"](l/h),n=Math[n>=1?"floor":"ceil"](n/h),m.settings.normalizeOffset&&this.getBoundingClientRect){var t=this.getBoundingClientRect();p=b.clientX-t.left,q=b.clientY-t.top}return b.deltaX=l,b.deltaY=n,b.deltaFactor=h,b.offsetX=p,b.offsetY=q,b.deltaMode=0,i.unshift(b,j,l,n),g&&clearTimeout(g),g=setTimeout(e,200),(c.event.dispatch||c.event.handle).apply(this,i)}}function e(){h=null}function f(a,b){return m.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var g,h,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],j="onwheel"in b||b.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],k=Array.prototype.slice;if(c.event.fixHooks)for(var l=i.length;l;)c.event.fixHooks[i[--l]]=c.event.mouseHooks;var m=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var a=j.length;a;)this.addEventListener(j[--a],d,!1);else this.onmousewheel=d;c.data(this,"mousewheel-line-height",m.getLineHeight(this)),c.data(this,"mousewheel-page-height",m.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=j.length;a;)this.removeEventListener(j[--a],d,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height"),c.removeData(this,"mousewheel-page-height")},getLineHeight:function(a){var b=c(a),d=b["offsetParent"in c.fn?"offsetParent":"parent"]();return d.length||(d=c("body")),parseInt(d.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(a){return c(a).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};c.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});var e;!function(a){var b;!function(a){var b=function(){function a(){}return a.UID=function(a){var b=Math.floor(1e8*Math.random());a||(a=(new Date).valueOf());var c=b+a,d="uid-"+c.toString(24);return d},a.hyphenDelimited=function(a){for(var b=a.replace(/[A-Z]/g,function(a){return" "+a.toLowerCase()}).split(/[^a-z0-9]+/gi),c=[],d=0,e=b.length;e>d;d++)b[d]&&c.push(b[d].toLowerCase());return c.join("-")},a.snakeCase=function(b){return a.hyphenDelimited(b).replace(/-/g,"_")},a.camelCase=function(b,c){void 0===c&&(c=!1);var d=a.hyphenDelimited(b);return c&&/^[a-z]/.test(d)&&(d="-"+d),d.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()})},a}();a.String=b}(b=a.utility||(a.utility={}))}(e||(e={}));var e;!function(a){var b,c={},d={};!function(b){var e=function(){function a(){}return a.prototype.on=function(a,b){var e=new f(this,a,b);return c[e.id]=e,d[a]||(d[a]=[]),d[a].push(e),this},a.prototype.off=function(a){return delete d[a],this},a.prototype.trigger=function(a,b){var c,e;b=b||this;var f,h=0;if(d[a])for(f=d[a].length;f>h&&(c=d[a][h],c.context!==this||(e=new g(a),c.handler.call(b,e),!e.isImmediatePropagationStopped()));h++);return this},a}();b.EventDispacher=e;var f=function(){function b(b,c,d){this.context=b,this.id=a.utility.String.UID(),this.type=c,this.handler=d}return b}();b.EventHandler=f;var g=function(){function a(){this._isImmediatePropagationStopped=!1}return a.prototype.isImmediatePropagationStopped=function(){return this._isImmediatePropagationStopped},a.prototype.stopImmediatePropagation=function(){this._isImmediatePropagationStopped=!0},a}();b.DispacheEvent=g}(b=a.ui||(a.ui={}))}(e||(e={}));var e,f=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};!function(b){var c;!function(b){var c=a,e=function(b){function e(){var c=this;b.call(this),this.resizeEndInterval=100,this.scrollEndInterval=100,this.isResize=!1,this.isScroll=!1;var e,f=d(a);f.on("resize",function(){c.isResize||c.trigger("resizestart"),c.isResize=!0,c.trigger("resize"),a.clearTimeout(e),e=a.setTimeout(function(){c.isResize=!1,c.trigger("resize"),c.trigger("resizeend")},c.resizeEndInterval)});var g;f.on("scroll",function(){c.isScroll||c.trigger("scrollstart"),c.isScroll=!0,c.trigger("scroll"),a.clearTimeout(g),g=a.setTimeout(function(){c.isScroll=!1,c.trigger("scroll"),c.trigger("scrollend")},c.resizeEndInterval)})}return f(e,b),e.jumpTo=function(b,c){void 0===c&&(c=!1),c?a.open(b,null):a.location.href=b},e.getUA=function(){var a=navigator.userAgent,b={iOS:/ios/i.test(a),iPad:/ipad/i.test(a),iPhone:/iphone/i.test(a),iPod:/ipod/i.test(a),android:/android/i.test(a)};return b},e.browser=new e,e.spec={isTouchable:void 0!==c.ontouchstart,ua:e.getUA()},e}(b.EventDispacher);b.Browser=e}(c=b.ui||(b.ui={}))}(e||(e={}));var e;!function(b){var c;!function(b){var c=function(){function b(){this.timerId=null,this.interval=13,this._onProgress=null,this.now()}return b.prototype.valueOf=function(){return this.datetime.valueOf()},b.prototype.now=function(){return this.datetime=new Date,this.valueOf()},b.prototype.start=function(a){this.now();this.stop();return this},b.prototype.stop=function(){return clearTimeout(this.timerId),this.timerId=null,this},b.prototype.wait=function(b,c,d){var e=this;return null==d&&(d=this),this.stop(),this.timerId=a.setTimeout(function(){e.stop(),c.call(d)},b),this},b.prototype.progress=function(a){return d.isFunction(a)&&(this._onProgress=a),this},b.wait=function(a,c,d){return(new b).wait(a,c,d)},b}();b.Timer=c}(c=b.ui||(b.ui={}))}(e||(e={}));var e;!function(b){var c;!function(b){var c=function(){function b(a){this.callback=a}return b.prototype.start=function(c){var d,e=this;c=c||this,"requestAnimationFrame"in a?this.requestId=requestAnimationFrame(function(){cancelAnimationFrame(e.requestId),e.callback.call(c),e.start(c)}):(d=1e3/b.FRAME_RATE,this.requestId=a.setTimeout(function(){a.clearTimeout(e.requestId),e.callback.call(c),e.start(c)},d))},b.prototype.stop=function(){"cancelAnimationFrame"in a?cancelAnimationFrame(this.requestId):a.clearTimeout(this.requestId)},b.FRAME_RATE=60,b}();b.AnimationFrames=c}(c=b.ui||(b.ui={}))}(e||(e={}));var e;!function(c){var e;!function(c){var e=function(){function e(){this.timer=new c.Timer}return e.prototype.to=function(f,g){var h,i,j,k,l,m,n,o,p,q,r=this,s=0;if(this.options=g||{},s+=this.options.offset||0,this.options.wheelCancel&&d(b).on("mousewheel",function(){r.isScroll&&(r._finish(),d.isFunction(r.options.onScrollCancel)&&r.options.onScrollCancel.call(r,new d.Event("scrollcancel")))}),d.isNumeric(f))s+=parseFloat(f)||0,this.targetX=0,this.targetY=s;else{if(!f)return q=d(a.location.hash),q.length&&c.Timer.wait(e.delayWhenURLHashTarget,function(){a.scrollTo(0,0),r.to(q,s)}),this;if(q=d(f),!q.length)return this;for(h=q[0],i=0,j=0;h;)i+=h.offsetLeft,j+=h.offsetTop,h=h.offsetParent;m=b.documentElement.clientWidth,n=b.documentElement.clientHeight,k=b.documentElement.scrollWidth,l=b.documentElement.scrollHeight,o=Math.max(m,k),p=Math.max(n,l),this.targetX=Math.min(i,o)+s,this.targetY=Math.min(j,p)+s}return this.isScroll||(this.isScroll=!0,d.isFunction(this.options.onScrollStart)&&this.options.onScrollStart.call(this,new d.Event("scrollstart")),this._scroll()),this},e.prototype._scroll=function(){var b=this._getX(),c=this._getY(),f=(this.targetX-b)/e.speed,g=(this.targetY-c)/e.speed,h=Math.floor(b+f),i=Math.floor(c+g);Math.abs(f)<1&&Math.abs(g)<1||this.prevX===b&&this.prevY===c?(a.scrollTo(this.targetX,this.targetY),this._finish(),d.isFunction(this.options.onScrollEnd)&&this.options.onScrollEnd.call(this,new d.Event("scrollend"))):(a.scrollTo(h,i),this.prevX=b,this.prevY=c,d.isFunction(this.options.onScrollProgress)&&this.options.onScrollProgress.call(this,new d.Event("scrollprogress")),this.timer.wait(e.interval,this._scroll,this))},e.prototype._getX=function(){return void 0!==a.pageXOffset?a.pageXOffset:b.documentElement.scrollLeft||b.body.scrollLeft},e.prototype._getY=function(){return void 0!==a.pageYOffset?a.pageYOffset:b.documentElement.scrollTop||b.body.scrollTop},e.prototype._finish=function(){this.isScroll=!1,this.prevX=null,this.prevY=null,this.timer.stop()},e.speed=4,e.interval=20,e.delayWhenURLHashTarget=30,e}();c.Scroll=e}(e=c.ui||(c.ui={}))}(e||(e={}));var e;!function(a){var b;!function(a){var b=function(){function a(a){a&&(this.el=a)}return a}();a.Dimension=b}(b=a.ui||(a.ui={}))}(e||(e={}));var e;!function(b){var c;!function(b){var c=function(){function b(){}return b.alignment=function(b,c,e,f){void 0===f&&(f=0);var g=null,h=null,i=null,j=null,k=b.length-1;return c||(c=b.length),b.each(function(l){var m,n,o,p,q=!1;if(f<a.document.documentElement.clientWidth&&(m=this.style,m.removeProperty("height"),i=l%c,0===i&&(g=[]),n=g[i]=d(this),j=n.height(),(0===i||j>h)&&(h=j),l===k||i===c-1))for(p=g.length,o=0;p>o;o++)g[o]&&(d.isFunction(e)&&(q=!e.call(b,h,j,g)),q||g[o].height(h))}),b},b.createChar=function(){var a=d("<p>M</p>").css({display:"block",visibility:"hidden",position:"absolute",padding:0,top:0});a.appendTo("body"),b.settings.dummyChar=a[0],b.settings.currentSize=b.settings.dummyChar.offsetHeight},b.isChanged=function(){return b.settings.currentSize===b.settings.dummyChar.offsetHeight?!1:(b.settings.currentSize=b.settings.dummyChar.offsetHeight,!0)},b.observer=function(){b.isChanged()&&b.reflatting()},b.reflatting=function(){var a,c,d=b.settings,e=d.sets.length;for(a=0;e>a;a++)c=b.settings.sets[a],c.height("auto"),b.alignment(c,d.columns[a],d.callbacks[a],d.breakPoints[a])},b.init=function(){var c;b.isInitialized||(c=d(a),c.load(b.reflatting),c.resize(b.reflatting),b.isInitialized=!0,b.createChar(),a.setInterval(b.observer,b.settings.interval))},b.isInitialized=!1,b.settings={handlers:[],interval:1e3,currentSize:0,dummyChar:null,sets:[],columns:[],callbacks:[],breakPoints:[]},b}();b.Box=c}(c=b.ui||(b.ui={}))}(e||(e={}));var e;!function(a){var b;!function(a){var b=function(){function a(){}return a}();a.Validation=b}(b=a.ui||(a.ui={}))}(e||(e={}));var e;!function(a){var b;!function(b){var c;!function(b){!function(a){a[a.HYPHEN_DELIMITED=0]="HYPHEN_DELIMITED",a[a.SNAKE_CASE=1]="SNAKE_CASE",a[a.CAMEL_CASE=2]="CAMEL_CASE"}(b.ElementClassNameCase||(b.ElementClassNameCase={}));b.ElementClassNameCase;!function(a){a[a.HYPHEN=0]="HYPHEN",a[a.DOUBLE_HYPHEN=1]="DOUBLE_HYPHEN",a[a.UNDERSCORE=2]="UNDERSCORE",a[a.DOUBLE_UNDERSCORE=3]="DOUBLE_UNDERSCORE",a[a.CAMEL_CASE=4]="CAMEL_CASE"}(b.ClassNameSeparatorForBEM||(b.ClassNameSeparatorForBEM={}));var c=(b.ClassNameSeparatorForBEM,"-"),d="--",e="_",f="__",g=function(){function b(c){this.name="",this.$el=c,this.id=this.$el.attr("id"),this.id||(this.id=a.utility.String.UID(),this.$el.attr("id",this.id));var d=this.$el.attr("name");d&&(this.name=d),this.addClass(b.classNameElementCommon)}return b.createClassName=function(g,h,i){void 0===h&&(h=""),void 0===i&&(i="");var j,k,l,m,n="";switch(b.classNameDefaultCase){case 0:k=c,g=a.utility.String.hyphenDelimited(g),h=a.utility.String.hyphenDelimited(h),i=a.utility.String.hyphenDelimited(i);break;case 1:k=e,g=a.utility.String.snakeCase(g),h=a.utility.String.snakeCase(h),i=a.utility.String.snakeCase(i);break;case 2:k="",g=a.utility.String.camelCase(g,!0),h=a.utility.String.camelCase(h),i=a.utility.String.camelCase(i)}switch(b.classNameDefaultSeparatorForElement){case 0:l=c;break;case 1:l=d;break;case 2:l=e;break;case 3:l=f;break;case 4:l=""}switch(b.classNameDefaultSeparatorForModifier){case 0:m=c;break;case 1:m=d;break;case 2:m=e;break;case 3:m=f;break;case 4:m=""}return b.classNameDefaultPrefix&&(j=b.classNameDefaultPrefix,j=j.replace(/^[^a-z_-]/i,""),j=j.replace(/[^a-z0-9_-]+/gi,""),j=j.replace(/^--+/,"-"),n+=j),n+=k+g,h&&(n+=l+h),i&&(n+=m+i),n},b.addClassTo=function(a,c,d,e){void 0===d&&(d=""),void 0===e&&(e="");var f=b.createClassName(c,d,e);a.addClass(f)},b.removeClassFrom=function(a,c,d,e){void 0===d&&(d=""),void 0===e&&(e="");var f=b.createClassName(c,d,e);a.removeClass(f)},b.prototype.addClass=function(a,c,d){void 0===c&&(c=""),void 0===d&&(d="");var e=b.createClassName(a,c,d);this.$el.addClass(e)},b.classNameDefaultPrefix="-bc",b.classNameElementCommon="element",b.classNameDefaultCase=0,b.classNameDefaultSeparatorForElement=3,b.classNameDefaultSeparatorForModifier=1,b}();b.Element=g}(c=b.element||(b.element={}))}(b=a.ui||(a.ui={}))}(e||(e={}));var e;!function(a){var b;!function(a){var b;!function(a){var b=function(){function b(){}return b.radio=function(b,c){new a.Radio(b,c);return b},b.checkbox=function(b,c){new a.Checkbox(b,c);return b},b.select=function(b,c){new a.Select(b,c);return b},b.elements=[],b.radioGroups={},b}();a.Form=b}(b=a.element||(a.element={}))}(b=a.ui||(a.ui={}))}(e||(e={}));var e;!function(a){var b;!function(a){var b;!function(a){var b=function(b){function c(e,f){var g=this;b.call(this,e),this.isFocus=!1;var h=d.extend(c.defaultOption,f);this.addClass(c.classNameFormElementCommon);var i;i=this.$el.closest("label"),this.isWrappedByLabel=!!i.length,i.length||(i=d('[for="'+this.id+'"]')),h.autoLabeling&&!i.length&&(this.label=this.$el.attr("title")||h.label||this.$el.attr("name"),i=d("<"+h.labelTag.toLowerCase()+" />"),i.insertAfter(this.$el),h.labelClass&&i.addClass(h.labelClass),this.label&&i.text(this.label),"label"===h.labelTag.toLowerCase()&&i.attr("for",this.id)),this.$label=i,a.Element.addClassTo(i,c.classNameFormElementCommon),a.Element.addClassTo(i,c.classNameFormElementCommon,c.classNameLabel);var j="<span />",k=d(j);a.Element.addClassTo(k,c.classNameFormElementCommon),a.Element.addClassTo(k,c.classNameWrapper),this.isWrappedByLabel?(this.$label.wrapAll(k),this.$wrapper=this.$label.parent("span")):(this.$el.add(this.$label).wrapAll(k),this.$wrapper=this.$el.parent("span")),this.$el.on("focus.bcFormElement",function(){g._onfocus()}),this.$el.on("blur.bcFormElement",function(){g._onblur()}),this._onblur(),a.Form.elements.push(this)}return f(c,b),c.prototype._onfocus=function(){this.isFocus=!0,a.Element.addClassTo(this.$el,c.classNameFormElementCommon,"",c.classNameStateFocus),a.Element.addClassTo(this.$label,c.classNameFormElementCommon,c.classNameLabel,c.classNameStateFocus),a.Element.addClassTo(this.$wrapper,c.classNameWrapper,"",c.classNameStateFocus),a.Element.removeClassFrom(this.$el,c.classNameFormElementCommon,"",c.classNameStateBlur),a.Element.removeClassFrom(this.$label,c.classNameFormElementCommon,c.classNameLabel,c.classNameStateBlur),a.Element.removeClassFrom(this.$wrapper,c.classNameWrapper,"",c.classNameStateBlur)},c.prototype._onblur=function(){this.isFocus=!1,a.Element.addClassTo(this.$el,c.classNameFormElementCommon,"",c.classNameStateBlur),a.Element.addClassTo(this.$label,c.classNameFormElementCommon,c.classNameLabel,c.classNameStateBlur),a.Element.addClassTo(this.$wrapper,c.classNameWrapper,"",c.classNameStateBlur),a.Element.removeClassFrom(this.$el,c.classNameFormElementCommon,"",c.classNameStateFocus),a.Element.removeClassFrom(this.$label,c.classNameFormElementCommon,c.classNameLabel,c.classNameStateFocus),a.Element.removeClassFrom(this.$wrapper,c.classNameWrapper,"",c.classNameStateFocus)},c.defaultOption={label:"",labelTag:"label",labelClass:"",autoLabeling:!0},c.classNameFormElementCommon="form-element",c.classNameWrapper="wrapper",c.classNameLabel="label",c.classNameStateFocus="focus",c.classNameStateBlur="blur",c}(a.Element);a.FormElement=b}(b=a.element||(a.element={}))}(b=a.ui||(a.ui={}))}(e||(e={}));var e;!function(a){var c;!function(a){var c;!function(c){var e=d(b),g=function(b){function g(e,f){var h=this;b.call(this,e,f),this.addClass(g.classNameSelect),c.Element.addClassTo(this.$wrapper,g.classNameSelect+"-"+c.FormElement.classNameWrapper);var i=this.$label.children().detach();this.$label.empty(),this.$label.append(i),c.Element.addClassTo(this.$label,g.classNameSelect,c.FormElement.classNameLabel),this.$pseudo=d("<a />"),this.$pseudo.attr("href","#"),this.$pseudo.appendTo(this.$label),c.Element.addClassTo(this.$pseudo,c.FormElement.classNameFormElementCommon),c.Element.addClassTo(this.$pseudo,g.classNamePseudoSelect),this.$selected=d("<span />"),this.$selected.text(this.label),this.$selected.appendTo(this.$pseudo),c.Element.addClassTo(this.$selected,c.FormElement.classNameFormElementCommon),c.Element.addClassTo(this.$selected,g.classNamePseudoSelect,g.classNamePseudoSelectedDisplay),this.$options=d("<ul />"),this.$options.appendTo(this.$pseudo),c.Element.addClassTo(this.$options,c.FormElement.classNameFormElementCommon),c.Element.addClassTo(this.$options,g.classNamePseudoSelect,g.classNameSelectOptionList),this.$el.find("option").each(function(a,b){var e=d(b),f=e.val(),i=e.text(),j=d("<li />");j.appendTo(h.$options),j.data("value",f),j.text(i),c.Element.addClassTo(j,c.FormElement.classNameFormElementCommon),c.Element.addClassTo(j,g.classNameSelectOptionList,g.classNameSelectOption)}),this._update(),this.$el.on("change.bcSelect",function(){h._onchange()}),this.$options.on("click.bcSelect","li",function(a){var b=d(a.target),c=b.index();h.$el.find("option").eq(c).prop("selected",!0),a.stopPropagation(),a.preventDefault(),h.$el.trigger("change")}),this.$pseudo.on("click.bcSelect",function(a){a.preventDefault()}),a.Browser.spec.isTouchable?a.Browser.spec.ua.iPhone?(this.$pseudo.on("click.bcSelect",function(){h.$label.focus()}),this.addClass(g.classNameOsIOs)):a.Browser.spec.ua.android&&this.addClass(g.classNameOsAndroid):this._psuedoFocusEvent()}return f(g,b),g.prototype._psuedoFocusEvent=function(){var a=this;this.$el.off("focus.bcFormElement"),this.$el.off("blur.bcFormElement"),this.$el.on("focus.bcSelect",function(){a.$pseudo.focus()}),this.$pseudo.on("focus.bcSelect",function(b){b.stopPropagation(),e.trigger("click.bcSelect"),a._onfocus()}),this.$selected.on("click.bcSelect",function(b){e.trigger("click.bcSelect"),a._onfocus(),b.stopPropagation(),b.preventDefault()}),e.on("click.bcSelect",function(){a._onblur()})},g.prototype._onchange=function(){this._update(),this._onblur()},g.prototype._onfocus=function(){b.prototype._onfocus.call(this),c.Element.addClassTo(this.$pseudo,g.classNamePseudoSelect,"",c.FormElement.classNameStateFocus),c.Element.removeClassFrom(this.$pseudo,g.classNamePseudoSelect,"",c.FormElement.classNameStateBlur)},g.prototype._onblur=function(){this.$pseudo&&(b.prototype._onblur.call(this),c.Element.addClassTo(this.$pseudo,g.classNamePseudoSelect,"",c.FormElement.classNameStateBlur),c.Element.removeClassFrom(this.$pseudo,g.classNamePseudoSelect,"",c.FormElement.classNameStateFocus))},g.prototype._update=function(){var a=this,b=(this.$el.find(":selected"),this.$options.find("li"));this.$el.find("option").each(function(e,f){var h=d(f),i=h.prop("selected"),j=b.eq(e);i&&a.$selected.text(h.text()),j.attr("aria-selected",""+i),i?(c.Element.addClassTo(j,g.classNameSelectOptionList,g.classNameSelectOption,g.classNameStateSelected),c.Element.removeClassFrom(j,g.classNameSelectOptionList,g.classNameSelectOption,g.classNameStateUnselected)):(c.Element.addClassTo(j,g.classNameSelectOptionList,g.classNameSelectOption,g.classNameStateUnselected),c.Element.removeClassFrom(j,g.classNameSelectOptionList,g.classNameSelectOption,g.classNameStateSelected))})},g.classNameSelect="form-select",g.classNamePseudoSelect="pseudo-select",g.classNamePseudoSelectedDisplay="selected-display",g.classNameSelectOptionList="option-list",g.classNameSelectOption="item",g.classNameOsIOs="os-i-os",g.classNameOsAndroid="os-android",g.classNameStateSelected="selected",g.classNameStateUnselected="unselected",g}(c.FormElement);c.Select=g}(c=a.element||(a.element={}))}(c=a.ui||(a.ui={}))}(e||(e={}));var e;!function(a){var b;!function(a){var b;!function(a){var b=function(b){function c(e,f){var g=this;b.call(this,e,f);var h=d.extend(a.FormElement.defaultOption,c.defaultOption,f);this._checkedClass=h.checkedClass,this.checked=this.$el.prop("checked"),this.defaultChecked=this.$el.prop("defaultChecked"),this._update(),this.$el.on("change.bcCheckableElement",function(){g._onchenge()})}return f(c,b),c.prototype.update=function(){this.$el.prop("checked")!==this.checked&&this._update()},c.prototype._onchenge=function(){this.checked=!this.checked,this._update()},c.prototype._update=function(){var b=this.$el.prop("checked");this.$el.attr("aria-checked",""+b),b?(this.$el.addClass(this._checkedClass),this.$label.addClass(this._checkedClass),this.$wrapper.addClass(this._checkedClass),a.Element.addClassTo(this.$el,a.FormElement.classNameFormElementCommon,"",c.classNameStateChecked),a.Element.addClassTo(this.$label,a.FormElement.classNameFormElementCommon,a.FormElement.classNameLabel,c.classNameStateChecked),a.Element.addClassTo(this.$wrapper,a.FormElement.classNameWrapper,"",c.classNameStateChecked),a.Element.removeClassFrom(this.$el,a.FormElement.classNameFormElementCommon,"",c.classNameStateUnchecked),a.Element.removeClassFrom(this.$label,a.FormElement.classNameFormElementCommon,a.FormElement.classNameLabel,c.classNameStateUnchecked),a.Element.removeClassFrom(this.$wrapper,a.FormElement.classNameWrapper,"",c.classNameStateUnchecked)):(this.$el.removeClass(this._checkedClass),this.$label.removeClass(this._checkedClass),this.$wrapper.removeClass(this._checkedClass),a.Element.addClassTo(this.$el,a.FormElement.classNameFormElementCommon,"",c.classNameStateUnchecked),a.Element.addClassTo(this.$label,a.FormElement.classNameFormElementCommon,a.FormElement.classNameLabel,c.classNameStateUnchecked),a.Element.addClassTo(this.$wrapper,a.FormElement.classNameWrapper,"",c.classNameStateUnchecked),a.Element.removeClassFrom(this.$el,a.FormElement.classNameFormElementCommon,"",c.classNameStateChecked),a.Element.removeClassFrom(this.$label,a.FormElement.classNameFormElementCommon,a.FormElement.classNameLabel,c.classNameStateChecked),a.Element.removeClassFrom(this.$wrapper,a.FormElement.classNameWrapper,"",c.classNameStateChecked)),this.checked=b},c.defaultOption={checkedClass:""},c.classNameStateChecked="checked",c.classNameStateUnchecked="unchecked",c}(a.FormElement);a.CheckableElement=b}(b=a.element||(a.element={}))}(b=a.ui||(a.ui={}))}(e||(e={}));var e;!function(a){var b;!function(a){var b;!function(a){var b=function(b){function c(d,e){b.call(this,d,e),this.addClass(c.classNameRadio),a.Element.addClassTo(this.$label,c.classNameRadio,a.FormElement.classNameLabel),a.Element.addClassTo(this.$wrapper,c.classNameRadio+"-"+a.FormElement.classNameWrapper),a.Form.radioGroups[this.name]||(a.Form.radioGroups[this.name]=new a.RadioGroup(this.name)),a.Form.radioGroups[this.name].add(this)}return f(c,b),c.prototype._onchenge=function(){b.prototype._onchenge.call(this),a.Form.radioGroups[this.name].update(this)},c.classNameRadio="form-radio",c}(a.CheckableElement);a.Radio=b}(b=a.element||(a.element={}))}(b=a.ui||(a.ui={}))}(e||(e={}));var e;!function(a){var b;!function(a){var b;!function(a){var b=function(b){function c(d,e){b.call(this,d,e),this.addClass(c.classNameCheckbox),a.Element.addClassTo(this.$label,c.classNameCheckbox,a.FormElement.classNameLabel),a.Element.addClassTo(this.$wrapper,c.classNameCheckbox+"-"+a.FormElement.classNameWrapper)}return f(c,b),c.classNameCheckbox="form-checkbox",c}(a.CheckableElement);a.Checkbox=b}(b=a.element||(a.element={}))}(b=a.ui||(a.ui={}))}(e||(e={}));var e;!function(a){var b;!function(a){var b;!function(a){var b=function(){function a(a){this.radioButtons=[],this.name=a}return a.prototype.add=function(a){for(var b=0,c=this.radioButtons.length;c>b;b++)if(this.radioButtons[b]===a)return;this.radioButtons.push(a)},a.prototype.update=function(a){for(var b=0,c=this.radioButtons.length;c>b;b++)this.radioButtons[b]!==a&&this.radioButtons[b].update()},a}();a.RadioGroup=b}(b=a.element||(a.element={}))}(b=a.ui||(a.ui={}))}(e||(e={}));var e;!function(b){var c;!function(b){var c;!function(b){var c=function(b){function c(d,e){b.call(this,d),this.$el.addClass(c.className),"google"in a&&google.maps?this._init(e):console&&console.warn&&console.warn('ReferenceError: "//maps.google.com/maps/api/js" を先に読み込む必要があります。'),c.maps.push(this),d.data(c.className,this)}return f(c,b),c.prototype._init=function(a){var b=this,f=this.$el.data("lat")||c.lat,g=this.$el.data("lng")||c.lng;this.$coordinates=this.$coordinates||this.$el.find("[data-lat][data-lng]").detach(),this.$coordinates.length<=0&&(this.$coordinates=this.$el);var h=[];this.$coordinates.each(function(a,b){var c=d(b),f=new e(c);h.push(f)}),this.mapOption=this.mapOption||d.extend({zoom:14,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.HYBRID,google.maps.MapTypeId.ROADMAP]},scrollwheel:!1,center:new google.maps.LatLng(f,g),styles:null},a),this.info=new google.maps.InfoWindow({disableAutoPan:!0}),this.gmap=new google.maps.Map(this.$el[0],this.mapOption),d.each(h,function(a,c){c.markTo(b)})},c.prototype.reload=function(){this._init()},c.lat=35.681382,c.lng=139.766084,c.className="-bc-map-element",c.maps=[],c}(b.Element);b.Map=c;var e=function(){function a(a){this.$el=a,this.lat=a.data("lat"),this.lng=a.data("lng"),this.title=a.attr("title")||a.data("title")||a.find("h1,h2,h3,h4,h5,h6").text()||null,this.icon=a.data("icon")||null}return a.prototype.markTo=function(a){var b=this;this.marker=new google.maps.Marker({position:new google.maps.LatLng(this.lat,this.lng),title:this.title,icon:this.icon,map:a.gmap}),a.$coordinates!==a.$el&&google.maps.event.addListener(this.marker,"click",function(){a.info.setContent(b.$el[0]),a.info.open(a.gmap,b.marker),b.marker.setZIndex(google.maps.Marker.MAX_ZINDEX+1)})},a}()}(c=b.element||(b.element={}))}(c=b.ui||(b.ui={}))}(e||(e={}));var e;!function(b){var e;!function(b){var e;!function(b){var e=function(b){function e(a,c){b.call(this,a),this._init(c)&&(e.movies.push(this),this.$el.addClass(e.className),a.data(e.className,this))}return f(e,b),e.prototype._init=function(b){var f=this,g=this.$el.data("id"),h=+(this.$el.data("width")||this.$el.attr("width")||0/0),i=+(this.$el.data("height")||this.$el.attr("height")||0/0),j="file:"===c.protocol?"http:":"";this.movieOption=d.extend({rel:!1,autoplay:!0,stopOnInactive:!1,controls:!1,loop:!0,showinfo:!1},b),this.$el.empty();var k=g.split(/\s*,\s*/),l=d('<iframe frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen>'),m=d.param({version:3,rel:this.movieOption.rel?1:0,autoplay:this.movieOption.autoplay?1:0,controls:this.movieOption.controls?1:0,disablekb:1,iv_load_policy:3,loop:this.movieOption.loop?1:0,modestbranding:1,showinfo:this.movieOption.showinfo?1:0,wmode:"transparent",enablejsapi:1});(k.length>=2||this.movieOption.loop)&&(m+="&amp;playlist="+k.join(","));var n=j+e.PLAYER_URL+g+"?"+m;this.movieId=g,l.prop("src",n);var o=this.id+"-Player";l.prop("id",o),l.css({position:"relative",display:"block",width:"100%",height:"100%"}),l.appendTo(this.$el),h&&(l.width(h),l.data("width",h)),i&&(l.height(i),l.data("height",i)),d.getScript(j+e.API_URL);var p,q;return this.movieOption.stopOnInactive&&(q=a.setInterval(function(){!p&&"YT"in a&&YT.Player&&(p=new YT.Player(o,null)),p&&p.pauseVideo&&p.playVideo&&(a.clearInterval(q),f.$el.trigger("embeddedyoutubeplay",[p]),d(a).on("blur",function(){p.pauseVideo()}).on("focus",function(){p.playVideo()}))},300)),!0},e.prototype.reload=function(a){this._init(a)},e.className="-bc-youtube-element",e.PLAYER_URL="//www.youtube.com/embed/",e.API_URL="//www.youtube.com/player_api",e.movies=[],e}(b.Element);b.Youtube=e}(e=b.element||(b.element={}))}(e=b.ui||(b.ui={}))}(e||(e={})),this.baser=e;var e;!function(a){function b(b){return this.each(function(c,e){var f=d(e),g=f.data(a.ui.element.Youtube.className);g?g.reload(b):new a.ui.element.Youtube(f,b)})}d.fn.bcYoutube=b}(e||(e={}));var e;!function(a){function b(b){return this.on("click",function(e){var f,g,h,i,j=d(this),k=j.attr("href"),l=new a.ui.Scroll;if(k){if(b&&d.isPlainObject(b.keywords))for(f in b.keywords)if(b.keywords.hasOwnProperty(f)&&(g=b.keywords[f],f===k))return l.to(g,b),void e.preventDefault();if(h=j.prop("href"),i=c.protocol+"//"+c.host+c.pathname+c.search,k=h.replace(i,""),"#top"===k)return l.to(0,b),void e.preventDefault();try{if(g=d(k),g.length)return l.to(g,b),void e.preventDefault()}catch(m){}}})}d.fn.bcScrollTo=b}(e||(e={})),d.bcScrollTo=function(a,b){var c=new e.ui.Scroll;c.to(a,b)};var e;!function(a){function b(b){return this.each(function(c,e){var f=d(e);a.ui.element.Form.radio(f,b)})}d.fn.bcRadio=b}(e||(e={}));var e;!function(a){function b(b){return this.each(function(c,e){var f=d(e);a.ui.element.Form.checkbox(f,b)})}d.fn.bcCheckbox=b}(e||(e={}));var e;!function(a){function b(b){return this.each(function(c,e){var f=d(e);a.ui.element.Form.select(f,b)})}d.fn.bcSelect=b}(e||(e={}));var e;!function(a){function b(b){return this.each(function(c,e){var f=d(e),g=f.data(a.ui.element.Map.className);g?g.reload():new a.ui.element.Map(f,b)})}d.fn.bcMaps=b}(e||(e={}));var e;!function(a){function b(b,c,e,f){void 0===f&&(f=0),a.ui.Box.init();var g,h=a.ui.Box.settings;return c?(g=this.find(c),g.length&&this.each(function(){var g=d(this).find(c);a.ui.Box.alignment(g,b,e,f),h.sets.push(g),h.columns.push(b),h.callbacks.push(e),h.breakPoints.push(f)})):(a.ui.Box.alignment(this,b,e,f),h.sets.push(this),h.columns.push(b),h.callbacks.push(e),h.breakPoints.push(f)),this}d.fn.bcBoxAlignHeight=b}(e||(e={})),d.fn.bcBoxLink=function(){return this.on("click",function(a){var b=d(this),c=b.find("a, area").eq(0),f=c.prop("href"),g="_blank"===c.prop("target");e.ui.Browser.jumpTo(f,g),a.preventDefault()}),this};var e;!function(){var a=function(a){var c=d.extend({pattern:/_off(\.(?:[a-z0-9]{1,6}))$/i,replace:"_on$1",dataPrefix:"-bc-rollover-",ignore:"",filter:null,stopOnTouch:!0},a),e=(d(b),c.dataPrefix+"off"),f=c.dataPrefix+"on";return this.each(function(a,b){var g,h,i,j=b.nodeName.toLowerCase(),k=d(b).not(c.ignore);(k.length&&"img"===j||"input"===j&&"image"===k.prop("type"))&&(g=!0,d.isFunction(c.filter)?g=!!c.filter.call(b):c.filter&&(g=!!k.filter(c.filter).length),g&&(h=k.attr("src"),h.match(c.pattern)&&(i=h.replace(c.pattern,c.replace),k.data(e,h),k.data(f,i))))}),this.on("mouseenter",function(){var a,b=d(this);return c.stopOnTouch&&b.data("-bc-is-touchstarted")?(b.data("-bc-is-touchstarted",!1),!0):(a=b.data(f),b.prop("src",a),!0)
}),this.on("mouseleave",function(){var a,b=d(this);return c.stopOnTouch&&b.data("-bc-is-touchstarted")?(b.data("-bc-is-touchstarted",!1),!0):(a=b.data(e),b.prop("src",a),!0)}),c.stopOnTouch&&this.on("touchstart",function(){var a=d(this);return a.data("-bc-is-touchstarted",!0),!0}),this};d.fn.bcRollover=a}(e||(e={}));var e;!function(){var a=function(a){var b=d.extend({close:300,open:300,opacity:.6,target:null,stopOnTouch:!0},a);return this.each(function(a,c){var e,f=d(c);e=b.target?f.find(b.target):f,f.on("mouseenter",function(){return b.stopOnTouch&&f.data("-bc-is-touchstarted")?(f.data("-bc-is-touchstarted",!1),!0):(e.stop(!0,!1).fadeTo(b.close,b.opacity),!0)}),f.on("mouseleave",function(){return b.stopOnTouch&&f.data("-bc-is-touchstarted")?(f.data("-bc-is-touchstarted",!1),!0):(e.stop(!0,!1).fadeTo(b.open,1),!0)}),b.stopOnTouch&&f.on("touchstart",function(){return f.data("-bc-is-touchstarted",!0),!0})}),this};d.fn.bcShy=a}(e||(e={}));var e;!function(){var a=function(a){var b=d.extend({close:50,open:200,opacity:.4,target:null,stopOnTouch:!0},a);return this.each(function(a,c){var e,f=d(c);e=b.target?f.find(b.target):f,f.on("mouseenter",function(){return b.stopOnTouch&&f.data("-bc-is-touchstarted")?(f.data("-bc-is-touchstarted",!1),!0):(e.stop(!0,!1).fadeTo(b.close,b.opacity).fadeTo(b.open,1),!0)}),b.stopOnTouch&&f.on("touchstart",function(){return f.data("-bc-is-touchstarted",!0),!0})}),this};d.fn.bcWink=a}(e||(e={}));var e;!function(){var a=function(a,b){var c="-bc-splited-list",e="-bc-splited-list--nth",f="-bc-splited-list__item",g=d.extend({dataKey:"-bc-split-list-index"},b);return this.each(function(b,h){var i,j=d(h),k=j.find("ul"),l=k.find("li"),m=l.length,n=Math.floor(m/a),o=m%a,p=o,q=1,r=1;l.each(function(a,b){var h=d(b);a+=1;var k;k=p>0?n+1:n,i||(i=d("<ul></ul>"),i.addClass(c),i.addClass(e+r),i.appendTo(j)),h.appendTo(i),h.data(g.dataKey,a-1),h.addClass(f),h.addClass(f+"--nth"+(a-1)),k===q&&(r+=1,q=0,p-=1,i=null),q+=1}),k.remove()}),this};d.fn.bcSplitList=a}(e||(e={}));var e;!function(){function a(a){return this.each(function(b,c){var e=d(c),f=[],g=e.find("img");g.length?(g.hide(),g.each(function(){var a=d.Deferred(),b=new Image;b.onload=function(){a.resolve(),b.onload=null,b=null},b.src=this.src,f.push(a.promise())}),d.when.apply(d,f).done(function(){g.show(),a.call(c)})):a.call(c)})}d.fn.bcImageLoaded=a}(e||(e={}));var e;!function(a){function b(b){return this.each(function(c,e){var f=d.extend({align:"center",valign:"center",size:"contain",child:">*:first"},b),g=d(e),h=g.find(f.child),i=+(g.data("width")||h.data("width")||h.attr("width")||h.width())||400,j=+(g.data("height")||h.data("height")||h.attr("height")||h.height())||300,k=i/j,l=g.css("position");("static"===l||""===l||null==l)&&g.css("position","relative"),h.css({position:"absolute",top:0,left:0});var m={},n=function(){var a,b=g.width(),c=g.height(),d=b/c;switch(f.size){case"contain":a=d>1?i>1&&d>k?b/i:c/j:j>1&&k>d?c/j:b/i;break;case"cover":a=d>1?i>1&&d>k?c/j:b/i:j>1&&k>d?b/i:c/j;break;default:return}var e,h=i*a,l=j*a;switch(f.valign){case"top":e=0;break;case"bottom":e=c-l;break;case"center":default:e=c/2-l/2}var n;switch(f.align){case"left":n=0;break;case"right":n=b-h;break;case"center":default:n=b/2-h/2}m={width:h,height:l,top:e,left:n}};n();var o=new a.ui.AnimationFrames(function(){h.css(m)});a.ui.Browser.browser.on("resizestart",function(){o.start()}).on("resize",function(){n()}).on("resizeend",function(){o.stop()}),o.start(),a.ui.Timer.wait(300,function(){o.stop()})})}d.fn.bcBackground=b}(e||(e={}));var e;!function(b){function c(){var c=d(a);return this.each(function(a,b){var e=d(b),f=+e.data("width"),g=+e.data("height"),h=f/g;c.on("resize",function(){var a=e.width();e.css({width:"100%",height:a/h})}).trigger("resize")}),b.ui.Timer.wait(30,function(){c.trigger("resize")}),this}d.fn.bcKeepAspectRatio=c}(e||(e={}))}).call(this);
//# sourceMappingURL=baser.min.js.map